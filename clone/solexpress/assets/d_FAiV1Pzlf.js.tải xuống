;/*FB_PKG_DELIM*/

__d("AvailableListConstants",[],(function(t,n,r,o,a,i){var e=Object.freeze({ON_AVAILABILITY_CHANGED:"buddylist/availability-changed",ON_UPDATE_ERROR:"buddylist/update-error",ON_UPDATED:"buddylist/updated",ON_CHAT_NOTIFICATION_CHANGED:"chat-notification-changed",OFFLINE:0,IDLE:1,ACTIVE:2,MOBILE:3,WEB_STATUS:"webStatus",FB_APP_STATUS:"fbAppStatus",MESSENGER_STATUS:"messengerStatus",OTHER_STATUS:"otherStatus",STATUS_ACTIVE:"active",STATUS_IDLE:"idle",STATUS_OFFLINE:"offline"});i.default=e}),66);
__d("ChannelConstants",[],(function(t,n,r,o,a,i){var e="channel/",l={CHANNEL_MANUAL_RECONNECT_DEFER_MSEC:2e3,MUTE_WARNING_TIME_MSEC:25e3,WARNING_COUNTDOWN_THRESHOLD_MSEC:15e3,ON_SHUTDOWN:e+"shutdown",ON_INVALID_HISTORY:e+"invalid_history",ON_CONFIG:e+"config",ON_ENTER_STATE:e+"enter_state",ON_EXIT_STATE:e+"exit_state",ATTEMPT_RECONNECT:e+"attempt_reconnect",RTI_SESSION:e+"new_rti_address",CONSOLE_LOG:e+"message:console_log",GET_RTI_SESSION_REQUEST:e+"rti_session_request",SKYWALKER:e+"skywalker",CHANNEL_ESTABLISHED:e+"established",OK:"ok",ERROR:"error",ERROR_MAX:"error_max",ERROR_MISSING:"error_missing",ERROR_MSG_TYPE:"error_msg_type",ERROR_SHUTDOWN:"error_shutdown",ERROR_STALE:"error_stale",SYS_OWNER:"sys_owner",SYS_NONOWNER:"sys_nonowner",SYS_ONLINE:"sys_online",SYS_OFFLINE:"sys_offline",SYS_TIMETRAVEL:"sys_timetravel",HINT_AUTH:"shutdown auth",HINT_CONN:"shutdown conn",HINT_DISABLED:"shutdown disabled",HINT_INVALID_STATE:"shutdown invalid state",HINT_MAINT:"shutdown maint",HINT_UNSUPPORTED:"shutdown unsupported",reason_Unknown:0,reason_AsyncError:1,reason_TooLong:2,reason_Refresh:3,reason_RefreshDelay:4,reason_UIRestart:5,reason_NeedSeq:6,reason_PrevFailed:7,reason_IFrameLoadGiveUp:8,reason_IFrameLoadRetry:9,reason_IFrameLoadRetryWorked:10,reason_PageTransitionRetry:11,reason_IFrameLoadMaxSubdomain:12,reason_NoChannelInfo:13,reason_NoChannelHost:14,CAPABILITY_VOIP_INTEROP:8,CAPABILITY_ACTIVE_ON_DESKTOP_APP:16384,CAPABILITY_PLAYING_INSTANT_GAME:2097152,SUBSCRIBE:"subscribe",UNSUBSCRIBE:"unsubscribe",FAKE_DFF:"fake_dff",THROTTLED:e+"throttled",JUMPSTART:e+"jumpstart",ENTITY_PRESENCE_ACTIVE_PING:"entity_presence/active_ping",ENTITY_PRESENCE_SKIPPED_PING:"entity_presence/skipped_ping",SUBSCRIPTION_STATE:{SUBSCRIBE:"s",MUTATE_CONTEXT:"m",UNSUBSCRIBE:"u"},DEFAULT_MAX_SUBSCRIPTIONS:300,DEFAULT_EVICTION_BATCH_SIZE:20,DEFAULT_MAX_SUBSCRIPTION_FLUSH_BATCH_SIZE:300,DEFAULT_MAX_CONSECUTIVE_FLUSH_FAILURES:3,getArbiterType:function(n){return e+"message:"+n},getRTISkywalkerArbiterType:function(n,r){return e+"skywalker:"+n+":"+r}};a.exports=l}),null);
__d("PresenceUtil",["CurrentUser","randomInt"],(function(t,n,r,o,a,i,l){var e=r("randomInt")(0,4294967295)+1;function s(){return e}function u(){return r("CurrentUser").isLoggedInNow()}l.getSessionID=s,l.hasUserCookie=u}),98);
__d("PresencePrivacy",["Arbiter","ArbiterMixin","AsyncRequest","Bootloader","ChannelConstants","CurrentUser","PresencePrivacyInitialData","PresenceUtil","mixin"],(function(t,n,r,o,a,i,l){var e,s="/ajax/chat/privacy/settings.php",u="/ajax/chat/privacy/online_policy.php",c="/ajax/chat/privacy/visibility.php",d="friend_visibility",m="visibility",p="online_policy",_=babelHelpers.extends({},(e=o("PresencePrivacyInitialData")).privacyData),f=e.visibility,g=babelHelpers.extends({},e.privacyData),h=f,y=e.onlinePolicy,C=y,b=[],v=!1,S=(function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,t.WHITELISTED=1,t.BLACKLISTED=-1,t.UNLISTED=0,t.ONLINE=1,t.OFFLINE=0,t.ONLINE_TO_WHITELIST=0,t.ONLINE_TO_BLACKLIST=1,babelHelpers.assertThisInitialized(t)||babelHelpers.assertThisInitialized(t)}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.init=function(t,n,r){},n.setVisibility=function(t){h=f,I(t);var e={visibility:t},n={type:m,visibility:t},r=w(c,e,n);return x(r,n),t},n.getVisibility=function(){return f},n.setOnlinePolicy=function(t){C=y,T(t);var e={online_policy:t},n={type:p,online_policy:t},r=w(u,e,n);return x(r,n),t},n.getOnlinePolicy=function(){return y},n.getFriendVisibility=function(t){return _[t]||R.UNLISTED},n.getFriendsVisibility=function(){return _},n.isUserOffline=function(){return this.getVisibility()===R.OFFLINE},n.allows=function(t){return this.isUserOffline()?!1:this.allowsIfViewerIsOnline(t)},n.allowsIfViewerIsOnline=function(t){var e=this.getOnlinePolicy();return e===R.ONLINE_TO_WHITELIST?_[t]==R.WHITELISTED:_[t]!=R.BLACKLISTED},n.getOnlinePolicyStr=function(){if(this.isUserOffline())return"offline";var e=this.getOnlinePolicy();return e===R.ONLINE_TO_WHITELIST?"online_to_whitelist":e===R.ONLINE_TO_BLACKLIST?"online_to_blacklist":"unknown"},n.setFriendsVisibility=function(t,n){if(t.length>0){for(var e={},r=0;r<t.length;r++){var o=t[r];g[o]=_[o],e[o]=n}L(e);var a=n;a==R.UNLISTED&&(a=g[t[0]]);var i={users:t,setting:n,setting_type:a},l={type:d,settings:e},u=w(s,i,l);x(u,l)}return n},n.setFriendVisibilityMap=function(t,n){for(var e in t)g[e]=_[e];L(t);var r={type:d,settings:t};x(M(n,r),r)},n.allow=function(t){if(this.allows(t))throw new Error("allow() should only be called for users that are not already allowed");if(this.getVisibility()===R.OFFLINE)throw new Error("allow() should only be called when the user is already online");var e=this.getOnlinePolicy()===R.ONLINE_TO_WHITELIST?R.WHITELISTED:R.UNLISTED;return this.setFriendsVisibility([t],e)},n.disallow=function(t){if(!this.allows(t))throw new Error("disallow() should only be called for users that are not already disallowed");if(this.getVisibility()===R.OFFLINE)throw new Error("disallow() should only be called when the user is already online");var e=this.getOnlinePolicy()===R.ONLINE_TO_BLACKLIST?R.BLACKLISTED:R.UNLISTED;return this.setFriendsVisibility([t],e)},n.getBlacklist=function(){var e=[];for(var t in _)_[t]===R.BLACKLISTED&&e.push(t);return e},n.getWhitelist=function(){var e=[];for(var t in _)_[t]===R.WHITELISTED&&e.push(t);return e},n.getMapForTest=function(){return _},n.setMapForTest=function(t){_=t},t})(r("mixin")(r("ArbiterMixin"))),R=new S;function L(e){var t;for(t in e){var n=e[t];if(t==r("CurrentUser").getID())throw new Error("Invalid to set current user's visibility");switch(n){case R.WHITELISTED:case R.BLACKLISTED:case R.UNLISTED:break;default:throw new Error("Invalid state: "+n)}}for(t in e)_[t]=e[t];R.inform("privacy-changed")}function E(e,t){var n={};n[e]=t,L(n)}function k(e){r("Bootloader").loadModules(["MessengerMQTTPresenceReporting"],function(t){t.reportChatVisibility(!!e)},"PresencePrivacy")}function I(e){switch(e){case R.ONLINE:case R.OFFLINE:break;default:throw new Error("Invalid visibility: "+e)}f=e,k(e),R.inform("privacy-changed"),R.inform("privacy-user-presence-changed")}function T(e){switch(e){case R.ONLINE_TO_WHITELIST:case R.ONLINE_TO_BLACKLIST:break;default:throw new Error("Invalid default online policy: "+e)}y=e,R.inform("privacy-user-presence-changed"),R.inform("privacy-changed")}function D(e,t){v=!0,e.send()}function x(e,t){if(b.push({request:e,data:t}),!v){var n=b.shift();D(n.request,n.data)}}function $(e,t){var n=e.type;if(n===d){R.inform("privacy-availability-changed");for(var r in e.settings)g[r]=e.settings[r]}else n===m?h=e.visibility:n===p&&(C=e.online_policy),R.inform("privacy-user-presence-response")}function P(e,t){f!==h&&I(h),y!==C&&T(C),Object.assign(_,g),R.inform("privacy-changed"),b=[]}function N(e){if(v=!1,b.length>0){var t=b.shift();D(t.request,t.data)}}function M(e,t){if(o("PresenceUtil")!=null){var n=e.getData();n.window_id=o("PresenceUtil").getSessionID(),e.setData(n)}return e.setHandler(function(e){return $(t,e)}).setErrorHandler(function(e){return P(t,e)}).setTransportErrorHandler(function(e){return P(t,e)}).setFinallyHandler(function(e){return N(e)}).setAllowCrossPageTransition(!0),e}function w(e,t,n){return M(new(r("AsyncRequest"))(e).setData(t),n)}function A(e,t){var n=t.obj;if(n.viewer_id!=r("CurrentUser").getID())throw new Error("Viewer got from the channel is not the real viewer");if(n.window_id!==o("PresenceUtil").getSessionID()){var a=n.data;if(n.event=="access_control_entry")a.target_ids.forEach(function(e){E(e,a.setting),g[e]=a.setting});else{if(n.event=="visibility_update"){var i=a.visibility?R.ONLINE:R.OFFLINE;I(i),h=i}else n.event=="online_policy_update"&&(T(a.online_policy),C=a.online_policy);R.inform("privacy-user-presence-response")}}}R.inform("privacy-changed"),R.inform("privacy-user-presence-changed","state"),r("Arbiter").subscribe(o("ChannelConstants").getArbiterType("privacy_changed"),A),r("Arbiter").subscribe(o("ChannelConstants").ON_CONFIG,function(e,t){var n=t.getConfig("visibility",null);if(n!==null&&typeof n!="undefined"){var r=n?R.ONLINE:R.OFFLINE;I(r)}});var F=R;l.default=F}),98);
__d("ChatVisibility",["Arbiter","PresencePrivacy"],(function(t,n,r,o,a,i){var e={isOnline:function(){return n("PresencePrivacy").getVisibility()===n("PresencePrivacy").ONLINE},hasBlackbirdEnabled:function(){return e.isVisibleToMostFriends()||e.isVisibleToSomeFriends()},isVisibleToMostFriends:function(){return n("PresencePrivacy").getOnlinePolicy()===n("PresencePrivacy").ONLINE_TO_BLACKLIST&&n("PresencePrivacy").getBlacklist().length>0},isVisibleToSomeFriends:function(){return n("PresencePrivacy").getOnlinePolicy()===n("PresencePrivacy").ONLINE_TO_WHITELIST&&n("PresencePrivacy").getWhitelist().length>0},goOnline:function(t){n("PresencePrivacy").getVisibility()===n("PresencePrivacy").OFFLINE&&(n("PresencePrivacy").setVisibility(n("PresencePrivacy").ONLINE),n("Arbiter").inform("chat-visibility/go-online")),t&&t()},goOffline:function(t){n("PresencePrivacy").getVisibility()===n("PresencePrivacy").ONLINE&&(n("PresencePrivacy").setVisibility(n("PresencePrivacy").OFFLINE),n("Arbiter").inform("chat-visibility/go-offline")),t&&t()},toggleVisibility:function(){e.isOnline()?e.goOffline():e.goOnline()}};a.exports=e}),null);
__d("DesktopHscrollUnitEventConstants",[],(function(t,n,r,o,a,i){var e="DesktopHScrollUnit/itemInserted",l="DesktopHScrollUnit/itemShown",s="DesktopHScrollUnit/HideIndividualItem",u="DesktopHScrollUnit/scrollItemBeforeXout",c="DesktopHScrollUnit/unhideIndividualItem",d="logLastAdXout",m="onXoutIndividualItem";i.HSCROLL_ITEM_INSERTED_EVENT=e,i.HSCROLL_ITEM_SHOWN_EVENT=l,i.HSCROLL_ITEM_HIDE_EVENT=s,i.HSCROLL_ITEM_SCROLL_BEFORE_XOUT_EVENT=u,i.HSCROLL_ITEM_UNHIDE_EVENT=c,i.HSCROLL_LAST_ITEM_NFX_ACTION_TAKEN=d,i.HSCROLL_PAGER_ITEM_HIDE_EVENT=m}),66);
__d("FBIDCheck",[],(function(t,n,r,o,a,i){"use strict";var e=/^[1-9]\d*$/;function l(t){var n=t;return n==null||typeof n=="string"&&!e.test(n)||(n=parseInt(n,10),!n)?!1:n>0&&n<22e8||n>=1e14&&n<=0x5b0a58f100ef||n>=89e12&&n<=89999999999999||n>=6000001e7&&n<=60000019999999}i.isUser_deprecated=l}),66);
__d("FBStoriesLoggingConstants",[],(function(t,n,r,o,a,i){"use strict";var e="event",l="followee",s="friend",u="group",c="missingStoryData",d="page",m="self",p="promotion",_="open_media",f="delete_media_attempted",g="attempt_to_send_reply",h="reaction_sticker_interacted",y="open_seen_summary",C="open_story",b="close_story",v="story_tray_load",S="send_story_failed",R="send_story_succeed",L="reply_attempt_completed",E="story_navigation",k="reshared_story_tap",I="reshared_story_view_story_tap",T={CLOSE_STORY:{CLICK_RIGHT:"click_right",CLICK_LEFT:"click_left",AUTO_JUMP:"auto_jump",AUTO_EXIT:"auto_exit",CLICK_EXIT:"click_exit",SWIPE_RIGHT:"swipe_right",SWIPE_LEFT:"swipe_left",SWIPE_EXIT:"swipe_exit",SWIPE_DOWN_EXIT:"swipe_down_exit",CLOSE_BUTTON_EXIT:"close_button_exit",BACK_BUTTON_EXIT:"back_button_exit"}},D="closeFromClickingOnModal",x="closeFromClickingOnModalCloseButton",$="closeFromLastStoryFinishing",P={ARCHIVE:"archive",POST_HEADER:"post_header_actor_photo",STORY_TRAY:"story_tray",IN_FEED:"in_feed",UNKNOWN:"unknown"};i.EVENT_STORY=e,i.FOLLOWEE_STORY=l,i.FRIEND_STORY=s,i.GROUP_STORY=u,i.MISSING_STORY_DATA=c,i.PAGE_STORY=d,i.SELF_STORY=m,i.STORY_PROMOTION=p,i.ACTION_OPEN_MEDIA=_,i.ACTION_DELETE_MEDIA=f,i.ACTION_SEND_REPLY_ATTEMPT=g,i.ACTION_SEND_REACTION_STICKER_INTERACTED=h,i.ACTION_OPEN_SEEN_SUMMARY=y,i.ACTION_OPEN_STORY=C,i.ACTION_CLOSE_STORY=b,i.ACTION_TRAY_LOAD=v,i.ACTION_SEND_STORY_FAILED=S,i.ACTION_SEND_STORY_SUCCEEDED=R,i.ACTION_REPLY_ATTEMPT_COMPLETED=L,i.ACTION_STORY_NAVIGATION=E,i.INTERACTION_TAP_RESHARED_STORY=k,i.INTERACTION_TAP_RESHARED_TOOLTIP=I,i.GESTURES=T,i.SOURCE_CLOSE_FROM_MODAL=D,i.SOURCE_CLOSE_FROM_MODAL_CLOSE_BUTTON=x,i.SOURCE_CLOSE_FROM_LAST_STORY_FINISHING=$,i.SOURCES=P}),66);
__d("XFBStoriesSingleStoryAsyncController",["XController"],(function(t,n,r,o,a,i){a.exports=n("XController").create("/stories/view/async/",{card_id:{type:"FBID"},story_id:{type:"FBID"},auto_open_viewersheet:{type:"Bool",defaultValue:!1},story_action_source:{type:"String"}})}),null);
__d("FBStoriesRing",["csx","cx","Arbiter","CSS","DOM","FBStoriesLoggingConstants","XFBStoriesSingleStoryAsyncController"],(function(t,n,r,o,a,i,l,s,u){"use strict";var e=(function(){function e(e){this.$1=e.element,this.$2=e.profileId,this.$3=e.storyId,this.$4=!1;var t=r("DOM").scry(this.$1,"._6_ut");t.length>0&&(this.$4=!0),this.$5()}var t=e.prototype;return t.$5=function(){var e=this;r("Arbiter").subscribe("has_story_bucket_been_seen",function(t,n){if(e.$2===n){var a=r("DOM").scry(e.$1,"._6_ut");a.length>0&&(o("CSS").removeClass(a[0],"_6_ut"),e.$4=!1)}}),r("Arbiter").subscribe("update_next_thread_to_view",function(t,n){var a=n.bucketOwnerId,i=n.threadId;if(e.$2===a&&e.$4){var l=r("XFBStoriesSingleStoryAsyncController").getURIBuilder().setFBID("story_id",e.$3).setFBID("card_id",i).setBool("auto_open_viewersheet",!1).setString("story_action_source",o("FBStoriesLoggingConstants").SOURCES.POST_HEADER).getURI();e.$1.setAttribute("ajaxify",l)}})},e})();l.default=e}),98);
__d("LastActiveTimes",["fbt","ServerTime"],(function(t,n,r,o,a,i,l,s){var e={};function u(e){if(!e||e<0)return null;var t=o("ServerTime").get()/1e3-e,n=Math.floor(t/60),r=Math.floor(n/60),a=Math.floor(r/24);return n<=1?s._(/*BTDS*/"_j{\"*\":\"{count}m\"}",[s._param("count",1,[0])]):n<60?s._(/*BTDS*/"_j{\"*\":\"{count}m\"}",[s._param("count",n,[0])]):r<24?s._(/*BTDS*/"_j{\"*\":\"{count} gi\\u1edd\"}",[s._param("count",r,[0])]):a<3?s._(/*BTDS*/"_j{\"*\":\"{count}ng\\u00e0y\"}",[s._param("count",a,[0])]):null}function c(t,n){(!(t in e)||e[t]<n)&&(e[t]=n)}function d(t){return t in e?e[t]:0}function m(e){for(var t in e)c(t,e[t])}function p(e){return u(d(e))}function _(e){return d(e)}function f(){return e}l.update=m,l.getShortDisplay=p,l.get=_,l.getDebugData=f}),226);
__d("PresenceConfig",["PresenceConfigInitialData"],(function(t,n,r,o,a,i,l){var e=babelHelpers.extends({},r("PresenceConfigInitialData"));function s(t,n){return t in e?e[t]:n}l.get=s}),98);
__d("debounceCore",["TimeSlice"],(function(t,n,r,o,a,i,l){function e(e,t,n,o,a,i){n===void 0&&(n=null),o===void 0&&(o=setTimeout),a===void 0&&(a=clearTimeout),i===void 0&&(i=!1);var l,s=!0;function u(){for(var c=arguments.length,d=new Array(c),m=0;m<c;m++)d[m]=arguments[m];var p;if(i){if(p=r("TimeSlice").guard(function(){s=!0,l=null},"debounceCore"),!s){a(l),l=o(p,t);return}s=!1,e.apply(n,d)}else u.reset(),p=r("TimeSlice").guard(function(){l=null,e.apply(n,d)},"debounceCore");p.__SMmeta=e.__SMmeta,l=o(p,t)}return u.reset=function(){a(l),l=null,s=!0},u.isPending=function(){return l!=null},u}l.default=e}),98);
__d("debounce",["clearTimeout","debounceCore","setTimeout"],(function(t,n,r,o,a,i,l){function e(e,t,n,o,a){t===void 0&&(t=100);var i=function(t,n,a){return r("setTimeout")(t,n,a,!o)};return r("debounceCore")(e,t,n,i,r("clearTimeout"),a)}l.default=e}),98);
__d("debounceAcrossTransitions",["debounce"],(function(t,n,r,o,a,i,l){function e(e,t,n){return r("debounce")(e,t,n,!0)}l.default=e}),98);
__d("PresenceStatus",["ArbiterMixin","AvailableListConstants","AvailableListInitialData","ChatVisibility","CurrentUser","FBIDCheck","LastActiveTimes","ODS","PresenceConfig","PresencePrivacy","ServerTime","createObjectFrom","debounceAcrossTransitions","gkx"],(function(t,n,r,o,a,i,l){var e;(e||(e=o("ODS"))).setEntitySample("presence",1e-4);var s={},u={},c={},d={},m=babelHelpers.extends({},r("ArbiterMixin")),p=r("debounceAcrossTransitions")(function(){return m.inform("change")},0);function _(e){var t,n=parseInt(e.topic.match(/\d+$/),10),a=parseInt(JSON.parse(e.payload).lat,10),i=Date.now()-a*1e3,l=o("PresenceConfig").get("active_cutoff")*1e3-i;o("LastActiveTimes").update((t={},t[n]=a,t)),m.checkPresence(n),m.get(n)===r("AvailableListConstants").ACTIVE&&(window.clearTimeout(d[n].timeout),d[n].timeout=window.setTimeout(function(){m.checkPresence(n)},l))}function f(e){return/^\d+$/.test(e)}Object.assign(m,{resetPresenceData:function(){s={},u={}},reset:function(){m.resetPresenceData(),c={}},get:function(n){if(n==r("CurrentUser").getID())return o("ChatVisibility").isOnline()?r("AvailableListConstants").ACTIVE:r("AvailableListConstants").OFFLINE;f(n)&&!o("FBIDCheck").isUser_deprecated(n)&&!d[n]&&((e||(e=o("ODS"))).bumpEntityKey(3303,"presence","page_subscribe"),d[n]={});var t=r("AvailableListConstants").OFFLINE;return n in s&&(t=s[n]),r("PresencePrivacy").allows(n)||(t=r("AvailableListConstants").OFFLINE),t},getCapabilities:function(t){var e=u[t];return e||0},isPlayingCanvasGameUser:function(t){return!!c[t]},getGroup:function(t){return t.some(function(e){return e==r("CurrentUser").getID()?!1:m.get(e)===r("AvailableListConstants").ACTIVE})?r("AvailableListConstants").ACTIVE:r("AvailableListConstants").OFFLINE},set:function(t,n,a,i,l,c){if(t==r("CurrentUser").getID())return!1;var e;if(n!=null){n=n==r("AvailableListConstants").ACTIVE?r("AvailableListConstants").ACTIVE:r("AvailableListConstants").OFFLINE;var d=m.get(t);if(e=d!=n,(e||n==r("AvailableListConstants").ACTIVE)&&o("FBIDCheck").isUser_deprecated(t)){var _;o("LastActiveTimes").update((_={},_[t]=o("ServerTime").get()/1e3,_))}s[t]=n}var f=!1;l!=null&&(f=m.getCapabilities(t)!=l,u[t]=l);var g=e||f;return g&&!c&&p(),g},setPlayingCanvasGameFriends:function(t){r("gkx")("22743")&&(c=r("createObjectFrom")(t))},getOnlineIDs:function(){var e,t=[];for(e in s)m.get(e)===r("AvailableListConstants").ACTIVE&&t.push(e);return t},getAllIDs:function(){return Object.keys(s)},getOnlineCount:function(){return m.getOnlineIDs().length},getPresenceStats:function(){var e=0,t=0,n=0;for(var o in s)switch(e+=1,m.get(o)){case r("AvailableListConstants").OFFLINE:t+=1;break;case r("AvailableListConstants").ACTIVE:n+=1;break;default:break}return{total:e,offline:t,active:n}},getAllDebugInfo:function(){var e={};for(var t in s)e[t]={p:s[t],vc:u[t]};return e},setMultiFromMQTT:function(t){var e={};Array.isArray(t)&&t.forEach(function(t){t.l&&(e[t.u]=t.l),m.set(t.u,t.p,!1,"mqtt",t.c,!0)}),o("LastActiveTimes").update(e),p()},setMultiChatproxy:function(t){var e={};for(var n in t){t[n].lat&&(e[n]=t[n].lat);var r=t[n].p;m.set(n,r,!1,"chatproxy",t[n].vc,!0)}o("LastActiveTimes").update(e),p()},setMultiActive:function(t,n){var e=!1;t.forEach(function(t){m.set(t,r("AvailableListConstants").ACTIVE,!1,n,null,!0)&&(e=!0)}),e&&p()},checkPresence:function(t){var e=!1,n=Math.ceil(Date.now()/1e3)-o("LastActiveTimes").get(t);m.set(t,n<o("PresenceConfig").get("active_cutoff")?r("AvailableListConstants").ACTIVE:r("AvailableListConstants").OFFLINE,!1,"pylon",null,!0)&&(e=!0),e&&p()}}),r("AvailableListInitialData").activeList&&r("AvailableListInitialData").activeList.length>0&&m.setMultiActive(r("AvailableListInitialData").activeList,"available_list_active"),r("AvailableListInitialData").playingNow&&r("AvailableListInitialData").playingNow.length>0&&m.setPlayingCanvasGameFriends(r("AvailableListInitialData").playingNow),r("AvailableListInitialData").lastActiveTimes&&Object.keys(r("AvailableListInitialData").lastActiveTimes).length>0&&o("LastActiveTimes").update(r("AvailableListInitialData").lastActiveTimes);var g=m;l.default=g}),98);