;/*FB_PKG_DELIM*/

__d("SearchResultPageLoggingInlineActionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1744351"),s=o("FalcoLoggerInternal").create("search_result_page_logging_inline_action",e),u=s;l.default=u}),98);
__d("SearchResultPageLoggingItemClickedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1744352"),s=o("FalcoLoggerInternal").create("search_result_page_logging_item_clicked",e),u=s;l.default=u}),98);
__d("SearchCometResultsLoggerUtil",["SearchResultPageLoggingInlineActionFalcoEvent","SearchResultPageLoggingItemClickedFalcoEvent","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=function(t,n,o){r("SearchResultPageLoggingItemClickedFalcoEvent").logImmediately(function(){return{click_type:"graph_search_results_module_tapped",common:{logging_unit_id:t,module_role:o,session_id:n,timestamp:Date.now().toString()}}})},s=function(t,n,o){r("SearchResultPageLoggingInlineActionFalcoEvent").logImmediately(function(){return{common:{logging_unit_id:t,session_id:n,timestamp:Date.now().toString()},inline_action_name:o}})},u=function(t,n,o,a){r("SearchResultPageLoggingItemClickedFalcoEvent").logImmediately(function(){return{click_type:"graph_search_results_item_in_module_tapped",common:{logging_unit_id:t,module_role:a,session_id:n,timestamp:Date.now().toString()},unit_id_result_id:o}})},c=function(t,n,o,a){r("SearchResultPageLoggingInlineActionFalcoEvent").logImmediately(function(){return{common:{logging_unit_id:t,session_id:n,timestamp:Date.now().toString()},inline_action_name:o,tapped_result_id:a}})},d=function(t,n){r("SearchResultPageLoggingItemClickedFalcoEvent").logImmediately(function(){return{click_type:"graph_search_results_see_more_on_module_tapped",common:{logging_unit_id:t,session_id:n,timestamp:Date.now().toString()}}})};l.logModuleClick=e,l.logModuleInlineAction=s,l.logResultClick=u,l.logResultInlineAction=c,l.logSeeMoreClick=d}),98);
__d("BrowseClientEventLogger",["csx","DOMQuery","SearchCometResultsLoggerUtil","ge","ifRequired"],(function(t,n,r,o,a,i,l,s){"use strict";var e="21.",u;function c(e,t,n,r){if(r===void 0&&(r={}),!(!e||!t)&&(r.event=e,r.client_time=Math.floor(Date.now()),r.client_time_2=Date.now()/1e3,r.session_id=t,r.vertical=n,u=u||[],u.indexOf(t)===-1&&r.event==="click"))switch(r.click_type){case"see_more":o("SearchCometResultsLoggerUtil").logSeeMoreClick(r.unit_id,r.session_id);break;case"result":o("SearchCometResultsLoggerUtil").logResultClick(r.unit_id,r.session_id,r.unit_id_result_id);break}}function d(e){e.gt.event="click",p(e,!0),r("ifRequired")("FacebarTypeaheadRefreshNullstate",function(e){e.setIsNullstateStale(!0)})}function m(e){e.event="client_view",p(e)}function p(t,n){n===void 0&&(n=!1);var r=null;if(n&&(r=t,t=t.gt),!(!t||!t.xt||t.xt.indexOf(e)!==0)){var o=JSON.parse(t.xt.substring(3));n&&(o.click_type=t.click_type,o.tn=t.tn,o.clicked_href=t.clicked_href,r&&r.bt&&r.bt.ct&&r.bt.ct==="feedback"&&(o.feedback_score=r.bt.feedback_score,o.feedback_type=r.bt.feedback_type));var a=t.event,i=_(o.unit_id);if(o.position=i,!(o.display_style==="context_hscroll"&&(a==="client_view"||a==="vpvd"||a==="visible"||a==="hidden"))){if(a==="vpvd"){if(!t.ft)return;o.vpvd_time=t.ft.vpvd_time_delta}c(a,o.session_id,o.vertical,o)}}}function _(e){if(e==null||e===void 0)return null;var t=0,n=r("ge")("browse_result_area");if(n==null||n===void 0)return null;for(var a=o("DOMQuery").scry(n,"._401d"),i=0;i<a.length;i++){var l=a[i],s=l.getAttribute("data-gt");if(s!==null||s!==void 0){var u=JSON.parse(JSON.parse(s).xt.substring(3));if(u.item_type==="result"&&u.id!==""&&u.id!==null){if(u.unit_id===e)return t;t++}}}return null}function f(e){e.event="impression",p(e)}l.logData=c,l.logClick=d,l.maybeLogClientViewEvent=m,l.maybeLogVisiblityEvent=p,l.logImpression=f}),98);
__d("CometMetricsChannel2ViewabilityFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1960868"),s=o("FalcoLoggerInternal").create("comet_metrics_channel2_viewability",e),u=s;l.default=u}),98);
__d("XFollowPrivacyNuxLogViewAsyncController",["XController"],(function(t,n,r,o,a,i){a.exports=n("XController").create("/follow/follow_privacy/nux/log/view/",{})}),null);
__d("XPubcontentChainedSuggestionsControllerRouteBuilder",["jsRouteBuilder"],(function(t,n,r,o,a,i,l){var e=r("jsRouteBuilder")("/pubcontent/chained_suggestions/",Object.freeze({eh:!1}),void 0),s=e;l.default=s}),98);
__d("SubscribeButton",["Arbiter","AsyncRequest","Button","CSS","Event","TooltipData","XFollowPrivacyNuxLogViewAsyncController","XPubcontentChainedSuggestionsControllerRouteBuilder","vulture"],(function(t,n,r,o,a,i){var e={SUBSCRIBED:"FollowingUser",UNSUBSCRIBED:"UnfollowingUser",_enable:function(t){n("Button").setEnabled(t,!0),n("TooltipData").remove(t)},_disable:function(t,r){n("Button").setEnabled(t,!1),r&&n("TooltipData").set(t,r)},init:function(r,o,a,i,l,s,u,c,d,m,p,_,f){var t=!p&&!f,g=d!=null;g&&!u&&!c&&e._disable(o,d),n("Event").listen(o,"click",function(){if(n("Arbiter").inform(e.SUBSCRIBED,{profile_id:i,contextID:_,suppress:!0}),m){m.show();var t=n("XFollowPrivacyNuxLogViewAsyncController").getURIBuilder().getURI();new(n("AsyncRequest"))(t).send()}}),n("Arbiter").subscribe(e.SUBSCRIBED,function(d,m){if(i==m.profile_id&&(l||a.suppressNextMouseEnter&&a.suppressNextMouseEnter(),g&&(typeof m.connected!="undefined"&&(u=m.connected),(u||c)&&e._enable(o)),m.focusOnClick!==void 0&&(t=m.focusOnClick),r.swap(t),s===!0&&m.chaining!==!1)){var p=n("XPubcontentChainedSuggestionsControllerRouteBuilder").buildUri({profileid:i});new(n("AsyncRequest"))().setURI(p).send()}}),n("Arbiter").subscribe(e.UNSUBSCRIBED,function(l,s){i==s.profile_id&&(r.unswap(t),a.hideFlyout&&a.hideFlyout(),g&&(typeof s.connected!="undefined"&&(u=s.connected),!u&&!c&&e._disable(o,d)),n("Arbiter").inform("SubMenu/Reset"))})},initSubscribe:function(r,o){n("vulture")("UuR08X_wRbOBqwwM_EkOc11lJzs="),n("Event").listen(r,"click",function(){n("vulture")("x4Du9rwAxF8AvG02kXZXisAyoeQ="),setTimeout(n("Arbiter").inform.bind(n("Arbiter"),e.SUBSCRIBED,{profile_id:o}),0)})},initUnsubscribe:function(r,o,a){n("Event").listen(r,"click",function(){setTimeout(n("Arbiter").inform.bind(n("Arbiter"),e.UNSUBSCRIBED,{profile_id:o,contextID:a}),0)})},initSubscribeMenuItem:function(t,r,o){n("vulture")("pe79pPGfCTPGu5Pgv_Ur_8TkLqU="),n("CSS").hide(r),this._initMenuItem(t,r,o)},initUnsubscribeMenuItem:function(t,r,o){n("vulture")("CEPG0LS_ilDAMr7TqLkCqkeSPyQ="),n("CSS").hide(t),this._initMenuItem(t,r,o)},_initMenuItem:function(r,o,a){n("vulture")("br3euKQR05jlNttyrmwCOSxXcgY="),this.initSubscribe(r,a),this.initUnsubscribe(o,a),n("Arbiter").subscribe(e.SUBSCRIBED,function(e,t){n("vulture")("GHc2y6RXziWG_NKZSGuOOWrQ1bE="),n("CSS").hide(r),n("CSS").show(o)}),n("Arbiter").subscribe(e.UNSUBSCRIBED,function(e,t){n("vulture")("ptoP57KzFWmzWKfZb18OB1Ubyi8="),n("CSS").hide(o),n("CSS").show(r)})}};a.exports=e}),null);
__d("tidyEvent",["Run"],(function(t,n,r,o,a,i,l){var e=[];function s(){for(;e.length;){var t=e.shift();t.remove?t.remove():t.unsubscribe&&t.unsubscribe()}}function u(e){var t,n=e;function r(){t&&(t.apply(n,arguments),t=null,n=null)}if(n&&n.remove)t=n.remove,n.remove=r;else{var o;t=(o=n)==null?void 0:o.unsubscribe,n.unsubscribe=r}return n}function c(t){if(e.length||o("Run").onLeave(s),Array.isArray(t))for(var n=0;n<t.length;n++)t[n]&&e.push(u(t[n]));else t&&e.push(u(t));return t}l.default=c}),98);
__d("EntstreamAttachmentRelatedShare",["csx","Arbiter","AsyncRequest","CSS","DOM","Event","SubscribeButton","ThisControllerNoLongerExists","ge","tidyEvent"],(function(t,n,r,o,a,i,l){var e=2,s=3,u={loadSuggestedShowsPivotAttachment:function(t,r,o){var e=n("ge")(t);if(e)var a=n("Arbiter").subscribe(n("SubscribeButton").SUBSCRIBED,function(t,i){a.unsubscribe(),i.profile_id===r.toString()&&n("Arbiter").inform("show_follow_click",{attachment:e,pageID:r,storyID:o})})},loadRelatedAttachment:function(r,o,a){var t=null;if(typeof r=="string"?t=n("ge")(r):t=r,!!t)var i=n("Event").listen(t,"click",function(){i.remove(),n("Arbiter").inform("article_click",{attachment:t,global_share_id:o,is_right_click:!1,share_id:a})}),l=n("Event").listen(t,"mousedown",function(r){(r.which===s||r.button===e)&&(l.remove(),n("Arbiter").inform("article_click",{attachment:t,global_share_id:o,is_right_click:!0}))})},loadInlineStoryPivotAttachment:function(t,r){var e=n("ge")(t);if(e)var o=n("Event").listen(e,"click",function(){o.remove(),n("Arbiter").inform("photo_click",{attachment:e,storyid:r})})},loadRelatedGameAttachment:function(r,o){var t=null;typeof r=="string"?t=n("ge")(r):t=r,t&&(n("tidyEvent")(n("Event").listen(t,"click",function(){n("Arbiter").inform("game_click",{attachment:t,global_share_id:o})})),n("tidyEvent")(n("Event").listen(t,"mousedown",function(r){(r.which===s||r.button===e)&&n("Arbiter").inform("game_click",{attachment:t,global_share_id:o})})))},loadRelatedLSCVideoAttachment:function(t,r){var e=null;if(typeof t=="string"?e=n("ge")(t):e=t,!!e)var o=n("Event").listen(e,"click",function(){o.remove(),n("Arbiter").inform("video_click",{attachment:e,global_share_id:r})})},loadRelatedEventsPivotAttachment:function(t,r){var e=null;typeof t=="string"?e=n("ge")(t):e=t,e&&n("tidyEvent")(n("Event").listen(e,"click",function(){n("Arbiter").inform("event_join",{attachment:e,event_id:r})}))},loadMapAttachment:function(t,r,o){var e=typeof t=="string"?n("ge")(t):t;if(e){var a=typeof r=="string"?n("ge")(r):r;a&&n("tidyEvent")(n("Event").listen(e,"click",function(){n("Arbiter").inform("map_click",{attachment:a,story_id:o})}))}},loadMapAttachmentActionButton:function(t,r){var e=typeof t=="string"?n("ge")(t):t;e&&n("tidyEvent")(n("Event").listen(e,"click",function(){n("Arbiter").inform("action_button_click",{button:e,story_id:r})}))},closeButton:function(t,r){n("Event").listen(t,"click",function(){n("DOM").remove(r)})},closeButtonPhotoPivots:function(t,r,o,a){n("Event").listen(t,"click",function(){var e=n("ThisControllerNoLongerExists").__DEADBUILDER__("ac8f3xt4"),t={story_id:o,search_query_type:a,event:"hide"};new(n("AsyncRequest"))().setMethod("POST").setURI(e.getURI()).setData(t).send(),n("DOM").remove(r)})},seeAllLinkPhotoPivots:function(t,r,o){n("Event").listen(t,"click",function(){var e=n("ThisControllerNoLongerExists").__DEADBUILDER__("0pr7u8i9i"),t={story_id:r,search_query_type:o,event:"see_all"};new(n("AsyncRequest"))().setMethod("POST").setURI(e.getURI()).setData(t).send()})},removeOldSuggestions:function(t){var e=n("ge")(t);if(e){for(var r=n("DOM").scry(e.parentNode,"._5d73"),o=1;o<r.length;o++)n("DOM").remove(r[o]);window.setTimeout(function(){n("CSS").show(r[0])},1e3)}},showHiddenSuggestions:function(t){var e=n("Event").listen(t,"click",function(){e.remove();var r="^._1ui8",o=n("DOM").scry(t,r);if(o){n("CSS").hide(o[0]);for(var a=o[0].previousSibling;a;)n("CSS").show(a),a=a.previousSibling}})}};a.exports=u}),null);
__d("EntstreamFeedObject",["csx","CSS","Parent"],(function(t,n,r,o,a,i,l){var e={getRoot:function(t){return n("Parent").bySelector(t,"._5jmm")},getHscrollOuterRootIfAvailable:function(r){var t=r;return n("CSS").matchesSelector(t,"._170y")&&(t=e.getRoot(t.parentNode)),t}};a.exports=e}),null);
__d("EntstreamFeedObjectTracking",["csx","CSS","DOM","EntstreamFeedObject","Focus","ge"],(function(t,n,r,o,a,i,l,s){"use strict";var e=new Map;function u(t){var n=m(t.nodeID);if(n){var o=r("DOM").scry(n,"._5v9_"),a=o&&o.length?o:[n];t.actorIDs.forEach(function(t){var n=[].concat(e.get(t)||[]);n.push.apply(n,a),e.set(t,n)})}}function c(t){var n=m(t.nodeID);(e.get(t.actorID)||[]).forEach(function(e){e!==n&&o("CSS").hide(e)})}function d(t){var n=m(t.nodeID);(e.get(t.actorID)||[]).forEach(function(e){o("CSS").show(e)}),n&&o("Focus").setWithoutOutline(n)}function m(e){var t=r("ge")(e);return t?o("EntstreamFeedObject").getRoot(t):null}l.register=u,l.hideAllFromActor=c,l.unhideAllFromActor=d,l.getRoot=m}),98);
__d("FBFeedImpressionTopMarginGetter",["getElementPosition","getStyleProperty"],(function(t,n,r,o,a,i,l){"use strict";var e=null;function s(){try{if(e==null)return 0;var t=r("getStyleProperty")(e,"position");if(t==="fixed"){var n=r("getElementPosition")(e);return n.height>0?Math.max(0,n.y+n.height):0}return 0}catch(e){return 0}}function u(){try{var e=document.getElementById("bluebarRoot");if(e==null)return 0;var t=e.firstChild;if(t==null)return 0;var n=r("getElementPosition")(t);return Math.max(0,n.y+n.height)}catch(e){return 0}}function c(t){e=t}function d(){var e=u(),t=s();return Math.max(e,t)}l.setActionBar=c,l.getTopMargin=d}),98);
__d("FBImpressionValidationUtils",["DataAttributeUtils"],(function(t,n,r,o,a,i){"use strict";var e={getFBFeedLocation:function(t){try{var e=JSON.parse(n("DataAttributeUtils").getDataFt(t));return e?e.fbfeed_location:null}catch(e){return null}}};a.exports=e}),null);
__d("FeedAdXoutEventTracker",[],(function(t,n,r,o,a,i){"use strict";var e=new Set;function l(t){e.add(t)}function s(t){e.delete(t)}function u(t){return e.has(t)}i.markHidden=l,i.undoHidden=s,i.checkIfHidden=u}),66);
__d("MsiteFullViewFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1962677"),s=o("FalcoLoggerInternal").create("msite_full_view",e),u=s;l.default=u}),98);
__d("FullViewLogger",["Banzai","MsiteFullViewFalcoEvent","ScriptPath","SubscriptionsHandler","URI","uuidv4"],(function(t,n,r,o,a,i,l){var e,s=(function(){function e(){}e.logFromViewableImpressionTracker=function(n){var t=new e;t.subscribeToTrackerEvents(n)};var t=e.prototype;return t.subscribeToTrackerEvents=function(t){this.$1=new(r("SubscriptionsHandler")),this.$1.addSubscriptions(t.addListener("full_view",this.onFullView.bind(this)))},t.onFullView=function(t){this.$2()&&this.$3(t);var e=r("uuidv4")(),n={token:t.token,fullViewType:t.fullViewType,scriptPath:r("ScriptPath").getTopViewEndpoint(),eventTraceID:e};r("Banzai").post("xtrackable:full_view",n),r("MsiteFullViewFalcoEvent").log(function(){return n}),this.$2()&&this.$4(n)},t.$2=function(){return 0},t.$3=function(t){""+t.id+t.token+t.fullViewType},t.$4=function(t){""+t.token+t.fullViewType},e})();l.default=s}),98);
__d("GhlTennisKnobsConfig.experimental",["cr:19611"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:19611")}),98);
__d("GHLBox",["FBLogger","GhlTennisKnobsConfig.experimental","Promise","WebStorage","getErrorSafe","gkx","requireDeferred"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=r("requireDeferred")("json-bigint").__setRef("GHLBox"),c=atob("YXJlc19sYXN0X3NpZ25hbF9mbHVzaA=="),d=atob("YmR6X3BsYXliYWNrX3N0YXRl"),m=36,p=r("gkx")("20995"),_=r("GhlTennisKnobsConfig.experimental").ghlbox_log_validity_in_mins*60*1e3,f=r("GhlTennisKnobsConfig.experimental").ghlbox_initialize_in_mins*60*1e3,g=1,h=function(){return new(s||(s=n("Promise")))(function(e){u.onReady(function(t){var n=y(t,!0),r=y(t);return n===0&&r===0?e(!1):n!==r?(b(Date.now()),e(!0)):Date.now()-r<=_?e(!0):e(!1)})})},y=function(n,o){o===void 0&&(o=!1);var t=(e||(e=r("WebStorage"))).getLocalStorageForRead();if(!t||!p)return 0;var a,i;if(o){var s,u;a=(s=(u=n.parse(t.getItem(d)))==null?void 0:u.session_key)!=null?s:"",i=Number.parseInt(a,m)}else{var l;a=(l=t.getItem(c))!=null?l:"",i=Number.parseInt(a,10)}return Number.isFinite(i)?i:0},C=function(){var t=(e||(e=r("WebStorage"))).getLocalStorage();!t||!p||t.getItem(c)===null&&t.getItem(d)===null&&b(Date.now()-f)},b=function(n){u.onReady(function(t){var o=(e||(e=r("WebStorage"))).getLocalStorage();if(o&&p){var a=n.toString();try{o.setItem(c,a)}catch(e){r("FBLogger")("GHLBox").warn("Exception while writing to local storage exception: %s, tss: %s, tss.length: (%d)",r("getErrorSafe")(e).message,a,a.length)}var i={session_key:n.toString(m),buffer_length:60};o.setItem(d,t.stringify(i))}})},v=b,S=h,R=C;l.MinimumHiddenAdsToUpdateLocalStorage=g,l.s=v,l.r=S,l.i=R}),98);
__d("GHLDelay",["AdImpressionLoggingConfig"],(function(t,n,r,o,a,i){var e=null,l={getEnabled:function(){return e===null?n("AdImpressionLoggingConfig").enableDelayedHiddenCheck:e},setEnabled:function(n){e=n}};a.exports=l}),null);
__d("GHLTestElement",["csx","invariant","ODS","Parent","containsNode","getElementPosition"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=function(t,r){var e=Array.from(t.querySelectorAll("img"));e.length>0||s(0,13937);var o=e.filter(c);if(o.length===0)return p("skipping_check_for_incompatible_element"+r),!1;var a=o.filter(function(e){var t=n("getElementPosition")(e);return t.width>0||t.height>0}),i=a.length===0;return i&&!d(t)},c=function(t){var e;return n("containsNode")(t==null||(e=t.ownerDocument)==null?void 0:e.documentElement,t)},d=function(t){return!!n("Parent").bySelector(t,m)},m=[".hidden_elem","._5ds2","._i6m"].join(","),p=function(r){return(e||(e=n("ODS"))).bumpEntityKey(2966,"feed_ads","GHLTestElement.testElementI."+r)};a.exports={testElementI:u}}),null);
__d("GhlTennisKnobsConfigJSModuleWrapper",["GhlTennisKnobsConfig"],(function(t,n,r,o,a,i,l){"use strict";l.default=r("GhlTennisKnobsConfig")}),98);
__d("LitestandMessages",[],(function(t,n,r,o,a,i){var e=Object.freeze({NEWSFEED_LOAD:"LitestandMessages/NewsFeedLoad",LEAVE_HOME:"LitestandMessages/LeaveHome",STORIES_REQUESTED:"LitestandMessages/StoriesRequested",STORIES_INSERTED:"LitestandMessages/StoriesInserted",NEWER_STORIES_REQUESTED:"LitestandMessages/NewerStoriesRequested",NEWER_STORIES_INSERTED:"LitestandMessages/NewerStoriesInserted",NEW_STORIES_CONTAINER_CREATED:"LitestandMessages/NewStoriesContainer",RHC_RELOADED:"LitestandMessages/RHCReloaded",STREAM_LOAD_ERROR:"LitestandMessages/StreamLoadError",DUPLICATE_CURSOR_ERROR:"LitestandMessages/DuplicateCursorError",STREAM_LOAD_RETRY:"LitestandMessages/StreamLoadRetry"});i.default=e}),66);
__d("MsiteViewabilityFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1958033"),s=o("FalcoLoggerInternal").create("msite_viewability",e),u=s;l.default=u}),98);
__d("MsiteViewableImpressionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1953926"),s=o("FalcoLoggerInternal").create("msite_viewable_impression",e),u=s;l.default=u}),98);
__d("NonBlockingIFrame",["Promise","TimeSlice","cr:6114"],(function(t,n,r,o,a,i){var e,l={},s,u;function c(e,t){e===void 0&&(e=l),t===void 0&&(t=document.body);var r,o={className:"nonBlockingIframe",width:0,height:0,frameborder:0,scrolling:"no","aria-hidden":"true"};return e!==l&&(o.src=e),r=n("cr:6114").create("iframe",o),r.style.left="-1000px",r.style.position="absolute",n("cr:6114").appendContent(t,r),e===l&&(r.contentDocument.open(),r.contentDocument.close()),r}function d(){return new(e||(e=n("Promise")))(function(t){s||(s=c()),s.contentDocument.readyState==="complete"?t(s):(u||(u=new(e||(e=n("Promise")))(function(e){s.contentWindow.onload=n("TimeSlice").guard(function(){e(s)},"NonBlockingIFrame window.onload")})),t(u))})}var m={loadImage:function(r){return d().then(function(t){return new(e||(e=n("Promise")))(function(e,o){var a=t.contentWindow.Image,i=new a;i.onload=n("TimeSlice").guard(function(){e(i)},"NonBlockingIFrame image.onload"),i.onerror=n("TimeSlice").guard(function(){o(i)},"NonBlockingIFrame image.onerror"),i.onabort=n("TimeSlice").guard(function(){o(i)},"NonBlockingIFrame image.onabort"),i.src=r})})},loadIFrame:function(t){return t===void 0&&(t=l),d().then(function(e){var n=e.contentDocument.body;return c(t,n)})}};a.exports=m}),null);
__d("PercentVisible",[],(function(t,n,r,o,a,i){var e=-1,l=0,s=50,u=100;i.NO_VISIBLE=e,i.VISIBLE_0_PCT=l,i.VISIBLE_50_PCT=s,i.VISIBLE_100_PCT=u}),66);
__d("PluginTabLoadMore",["CSS","Event"],(function(t,n,r,o,a,i,l){"use strict";function e(){r("Event").fire(this.root,"noMoreContent"),o("CSS").hide(this.spinner)}function s(e){r("Event").fire(this.root,"setCursor",e)}function u(e,t){this.root=e,this.spinner=t}l.noMoreContent=e,l.setCursor=s,l.init=u}),98);
__d("ViewabilityDurationSegmentLogger",["Banzai","MsiteViewabilityFalcoEvent","PercentVisible","uuidv4"],(function(t,n,r,o,a,i,l){"use strict";var e=8e3,s=(function(){function t(){this.$1=new Map,this.$2=new Map,this.$3=new Map,this.$4=new Map,this.$5=new Map}t.logFromViewableImpressionTracker=function(n){var e=new t;e.subscribeToTrackerEvents(n)};var n=t.prototype;return n.subscribeToTrackerEvents=function(t){t.addListener("viewability",this.onViewable.bind(this)),t.addListener("viewport_viewability",this.onViewport.bind(this)),t.addListener("hidden",this.onHidden.bind(this))},n.onViewable=function(t){var e=t.id,n=t.percentVisible,r=Date.now(),a,i;switch(n){case o("PercentVisible").VISIBLE_0_PCT:a=this.$1.get(e),a?this.$7(a,e,r):this.$6(t,o("PercentVisible").VISIBLE_0_PCT,r,"feed_unit"),a=this.$2.get(e),a&&(i=this.$8(a,e,r,!0),this.$9(i,e)),a=this.$4.get(e),a&&(i=this.$8(a,e,r,!0),this.$9(i,e));break;case o("PercentVisible").VISIBLE_50_PCT:a=this.$1.get(e),a?this.$7(a,e,r):this.$6(t,o("PercentVisible").VISIBLE_0_PCT,r,"feed_unit"),a=this.$2.get(e),a?this.$7(a,e,r):this.$6(t,o("PercentVisible").VISIBLE_50_PCT,r,"feed_unit"),a=this.$4.get(e),a&&(i=this.$8(a,e,r,!0),this.$9(i,e));break;case o("PercentVisible").VISIBLE_100_PCT:a=this.$1.get(e),a?this.$7(a,e,r):this.$6(t,o("PercentVisible").VISIBLE_0_PCT,r,"feed_unit"),a=this.$2.get(e),a?this.$7(a,e,r):this.$6(t,o("PercentVisible").VISIBLE_50_PCT,r,"feed_unit"),a=this.$4.get(e),a?this.$7(a,e,r):this.$6(t,o("PercentVisible").VISIBLE_100_PCT,r,"feed_unit");break}},n.onViewport=function(t){var e=t.id,n=t.percentVisible,r=Date.now(),a,i;switch(n){case o("PercentVisible").VISIBLE_0_PCT:a=this.$3.get(e),a&&(i=this.$8(a,e,r,!0),this.$9(i,e)),a=this.$5.get(e),a&&(i=this.$8(a,e,r,!0),this.$9(i,e));break;case o("PercentVisible").VISIBLE_50_PCT:a=this.$3.get(e),a?this.$7(a,e,r):this.$6(t,o("PercentVisible").VISIBLE_50_PCT,r,"viewport"),a=this.$5.get(e),a&&(i=this.$8(a,e,r,!0),this.$9(i,e));break;case o("PercentVisible").VISIBLE_100_PCT:a=this.$3.get(e),a?this.$7(a,e,r):this.$6(t,o("PercentVisible").VISIBLE_50_PCT,r,"viewport"),a=this.$5.get(e),a?this.$7(a,e,r):this.$6(t,o("PercentVisible").VISIBLE_100_PCT,r,"viewport");break}},n.onHidden=function(t){var e=t.id,n=Date.now(),r=this.$1.get(e),o=this.$2.get(e),a=this.$3.get(e),i=this.$4.get(e),l=this.$5.get(e);r&&this.$9(this.$8(r,e,n,!0),e),o&&this.$9(this.$8(o,e,n,!0),e),a&&this.$9(this.$8(a,e,n,!0),e),i&&this.$9(this.$8(i,e,n,!0),e),l&&this.$9(this.$8(l,e,n,!0),e)},n.$6=function(t,n,r,a){var e={token:t.token,startedTrackingTS:r,percentVisible:n,visibilityUnit:a,intervalMs:0,cumulativeMs:0,segmentIdx:0,eventTraceID:""};switch(n){case o("PercentVisible").VISIBLE_0_PCT:this.$1.set(t.id,e);break;case o("PercentVisible").VISIBLE_50_PCT:a==="feed_unit"?this.$2.set(t.id,e):this.$3.set(t.id,e);break;case o("PercentVisible").VISIBLE_100_PCT:a==="feed_unit"?this.$4.set(t.id,e):this.$5.set(t.id,e);break}},n.$8=function(t,n,r,a){var e=r-t.startedTrackingTS,i=e-t.cumulativeMs,l=t.percentVisible,s={token:t.token,startedTrackingTS:t.startedTrackingTS,percentVisible:l,visibilityUnit:t.visibilityUnit,intervalMs:i,cumulativeMs:e,segmentIdx:++t.segmentIdx,eventTraceID:""};switch(a&&(s.duration=e),l){case o("PercentVisible").VISIBLE_0_PCT:this.$1.set(n,s);break;case o("PercentVisible").VISIBLE_50_PCT:t.visibilityUnit==="feed_unit"?this.$2.set(n,s):this.$3.set(n,s);break;case o("PercentVisible").VISIBLE_100_PCT:t.visibilityUnit==="feed_unit"?this.$4.set(n,s):this.$5.set(n,s);break}return s},n.$7=function(t,n,o){var e=this,a=t.intervalMs,i=o-t.startedTrackingTS-t.cumulativeMs;if(this.$10(a,i)){var l=this.$8(t,n,o,!1),s=r("uuidv4")();l.eventTraceID=s,r("Banzai").post("xtrackable:viewability",l,r("Banzai").VITAL),r("MsiteViewabilityFalcoEvent").logImmediately(function(){return e.$11(l)})}},n.$10=function(n,r){if(n>=e)return!1;if(n==0)return!0;if(n<1e3)return r>=1e3;var t=0;t=n/1e3;var o=r/1e3;return o>=2*t},n.$9=function(t,n){var e=this,a=t.percentVisible;switch(a){case o("PercentVisible").VISIBLE_0_PCT:this.$1.delete(n);break;case o("PercentVisible").VISIBLE_50_PCT:t.visibilityUnit==="feed_unit"?this.$2.delete(n):this.$3.delete(n);break;case o("PercentVisible").VISIBLE_100_PCT:t.visibilityUnit==="feed_unit"?this.$4.delete(n):this.$5.delete(n);break}var i=r("uuidv4")();t.eventTraceID=i,r("Banzai").post("xtrackable:viewability",t,r("Banzai").VITAL),r("MsiteViewabilityFalcoEvent").logImmediately(function(){return e.$11(t)})},n.$11=function(t){var e;return{token:t.token,startedTrackingTS:t.startedTrackingTS.toString(),segmentIdx:t.segmentIdx.toString(),percentVisible:t.percentVisible.toString(),visibilityUnit:t.visibilityUnit,intervalMs:t.intervalMs.toString(),cumulativeMs:t.cumulativeMs.toString(),eventTraceID:t.eventTraceID,duration:(e=t.duration)==null?void 0:e.toString()}},t})();l.default=s}),98);
__d("ViewabilityFramework",[],(function(t,n,r,o,a,i){var e=Object.freeze({VIEWABLE_TRACKER_BLUE:"current_blue",VIEWABLE_TRACKER_BLUE_RHC:"current_blue_rhc",VIEWABLE_TRACKER_BLUE_EXIT:"current_blue_exit",VIEWABLE_TRACKER_BLUE_AFTER_DEDUP:"current_blue_after_dedup",IMPRESSION_API_COMET_ENTER:"impression_api_comet_enter",IMPRESSION_API_COMET_EXIT:"impression_api_comet_exit",IMPRESSION_API_COMET_AFTER_DEDUP:"impression_api_comet_after_dedup",IMPRESSION_API_COMET_AFTER_DEDUP_ORIGINAL:"impression_api_comet_after_dedup_original",INTERSECTION_OBSERVER_BLUE:"intersection_observer_blue",INTERSECTION_OBSERVER_BLUE_RHC:"intersection_observer_blue_rhc",INTERSECTION_OBSERVER_BLUE_EXIT:"intersection_observer_blue_exit",INTERSECTION_OBSERVER_BLUE_AFTER_DEDUP:"intersection_observer_blue_after_dedup",SCROLL_BASED_BLUE:"scroll_based_blue",SCROLL_BASED_BLUE_RHC:"scroll_based_blue_rhc",SCROLL_COMET:"scroll_comet",SCROLL_COMET_AFTER_DEDUP:"scroll_comet_after_dedup",SCROLL_COMET_EXIT:"scroll_comet_exit",AD_UNIT_GENERIC_API_COMET:"ad_unit_generic_api_comet",AD_UNIT_GENERIC_API_COMET_EXIT:"ad_unit_generic_api_comet_exit",AD_UNIT_GENERIC_API_COMET_AFTER_DEDUP:"ad_unit_generic_api_comet_after_dedup",AD_UNIT_SCROLL_COMET:"ad_unit_scroll_comet",AD_UNIT_SCROLL_COMET_EXIT:"ad_unit_scroll_comet_exit",AD_UNIT_SCROLL_COMET_AFTER_DEDUP:"ad_unit_scroll_comet_after_dedup",COMET_FULL_VIEW:"comet_full_view"});i.default=e}),66);
__d("ViewableImpressionDurationLogger",["Banzai"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(){this.$1=new Map}e.logFromViewableImpressionTracker=function(n){var t=new e;t.subscribeToTrackerEvents(n)};var t=e.prototype;return t.subscribeToTrackerEvents=function(t){t.addListener("visible",this.onElementVisible.bind(this)),t.addListener("hidden",this.onElementHidden.bind(this))},t.onElementVisible=function(t){if(this.$1.get(t.id))return null;var e={token:t.token,startedTrackingTS:this.getTimeNow()};return this.$1.set(t.id,e),e},t.onElementHidden=function(t){var e=this.$1.get(t.id);return e?(e.trackingDuration=this.getTimeNow()-e.startedTrackingTS,this.sendLog(t.id)):!1},t.sendLog=function(t){var e=this.$1.get(t);return!e||!e.trackingDuration?!1:(r("Banzai").post("xtrackable:duration",e),this.$1.delete(t),!0)},t.getTimeNow=function(){return parseFloat((Date.now()/1e3).toFixed(2))},e})();l.default=e}),98);
__d("ViewableImpressionHeatmapLogger",["Banzai"],(function(t,n,r,o,a,i,l){var e=(function(){function e(e){this.$1=e,this.$2=new Map}e.logFromViewableImpressionTracker=function(n,r){var t=new e(r);t.subscribeToTrackerEvents(n)};var t=e.prototype;return t.subscribeToTrackerEvents=function(t){t.addListener("visible",this.onElementVisible.bind(this)),t.addListener("hidden",this.onElementHidden.bind(this))},t.onElementVisible=function(t){var e=this.getCurrentTimestamp(),n=this.$2[t.id];n||(n=this.createTrackingEntry(t),this.beginTracking(t.id,n),e=n.startedTrackingTS),n.viewportProgressEvents.push({timestamp:e,percentInViewport:t.percentInViewport.toFixed(2)})},t.onElementHidden=function(t){var e=this.getCurrentTimestamp(),n=this.$2[t.id];n&&n.viewportProgressEvents.push({timestamp:e,percentInViewport:0})},t.onTrackingCompleted=function(t){var e=this.$2.get(t);e&&(e.viewportProgressEvents.push({timestamp:this.getCurrentTimestamp(),percentInViewport:e.tracker.getPercentInViewport().toFixed(2)}),this.$3()&&this.$4(t,e),this.logToServer(e),this.$2.delete(t))},t.logToServer=function(t){var e=t;delete e.tracker,r("Banzai").post("xtrackable:heatmap",e)},t.beginTracking=function(t,n){var e=this;this.$2.set(t,n),setTimeout(function(){return e.onTrackingCompleted(t)},this.$1)},t.createTrackingEntry=function(t){return{tracker:t.tracker,token:t.token,startedTrackingTS:this.getCurrentTimestamp(),viewportProgressEvents:[]}},t.getCurrentTimestamp=function(){return(Date.now()/1e3).toFixed(2)},t.$3=function(){return 0},t.$4=function(t,n){var e="Completed tracking for id "+t+" token="+n.token+" startedTrackingTS="+n.startedTrackingTS+"\n";n.viewportProgressEvents.forEach(function(t){e+="% in view: "+t.percentInViewport+" timestamp="+t.timestamp+"\n"})},e})();l.default=e}),98);
__d("getCentralImpressionTimeAfterRefresh",[],(function(t,n,r,o,a,i){"use strict";var e=null;window.addEventListener("load",function(){e=Date.now()},{passive:!0});function l(){return e!=null?Date.now()-e:0}i.default=l}),66);
__d("ghlTestUBT",["cr:1543261","cr:334"],(function(t,n,r,o,a,i,l){"use strict";n("cr:1543261")&&n("cr:1543261")(),l.default=n("cr:334")}),98);
__d("isImpressionTargetOccluded",["containsNode","getViewportDimensions"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n){n===void 0&&(n={bottom:0,left:0,right:0,top:0});try{if(!e||!t||!document.elementFromPoint)return!1;var o=r("getViewportDimensions")();if(o.height===0||o.width===0)return!1;var a=t.x,i=t.y,l=t.width,s=t.height,u=Math.min(a+l,o.width-1),c=Math.min(i+s,o.height-1),d=[{x:a,y:i},{x:a,y:c},{x:u,y:i},{x:u,y:c},{x:(a+u)/2,y:(i+c)/2}];return n.top!==0&&n.top>i&&n.top<c&&d.push({x:(a+u)/2,y:(n.top+c)/2}),d.every(function(t){var n=document.elementFromPoint(t.x,t.y),o=!!n&&!r("containsNode")(n,e)&&!r("containsNode")(e,n);return o})}catch(e){return!1}}l.default=e}),98);
__d("ViewableImpressionTracker",["csx","cx","AdImpressionLoggingConfig","Banzai","CometMetricsChannel2ViewabilityFalcoEvent","DataAttributeUtils","FBFeedImpressionTopMarginGetter","FBImpressionValidationUtils","FeedAdXoutEventTracker","GHLDelay","GHLTestElement","MsiteViewableImpressionFalcoEvent","NonBlockingIFrame","ODS","PercentVisible","Run","ScriptPath","Style","URI","ViewabilityFramework","Visibility","WebSession","cr:1095627","cr:4095","cr:4394","cr:6114","cr:7058","ge","getCentralImpressionTimeAfterRefresh","getElementPosition","getErrorSafe","getViewportDimensions","ghlTestUBT","gkx","isImpressionTargetOccluded","mixInEventEmitter","randomInt","uuidv4"],(function(t,n,r,o,a,i,l,s,u){var e,c,d=null,m=(function(){function t(e,t,n){var a=this;this.checkAndLogImpressionIfPendingOnExit=function(){r("AdImpressionLoggingConfig").enableFlushDelayLogOnCleanup&&a.waitForDelayLogged&&(window.clearTimeout(a.delayedLoggingTimeout),a.delayLogImpression())},this.delayLogImpression=function(){a.waitForDelayLogged=!1;var e="other";a.element.id.startsWith("hyperfeed")&&(e="16");var t=r("GHLTestElement").testElementI(a.element,".vit."+e);if(t){a.$14(),r("AdImpressionLoggingConfig").logForHiddenAds&&a.logImpression(1,!0,{});return}a.logImpression(1,!1,{}),a.$12()},this.id=e,this.element=t,this.config=n,this.iframe=null,this.viewableTimeout=null,this.delayedLoggingTimeout=null,this.clearSubsequentTimeout=null,this.waitForSubsequent=!1,this.waitForLogged=!1,this.waitForDelayLogged=!1,this.isNonViewableLogged=!1,this.isVisible=!1,this.iframeLogged=!1,this.banzaiLogged=!1,this.falcoLogged=!1,this.topLeftInViewport=!1,this.bottomRightInViewport=!1,this.isHidden=!0,this.lastInvisibleReason=null,this.isSubsequentImp=!1,this.lastHiddenCause="none",this.lastImpressedAt=null,this.lastEnterWithPercent=null,o("Run").onUnload(this.checkAndLogImpressionIfPendingOnExit),o("Run").onLeave(this.checkAndLogImpressionIfPendingOnExit),r("ghlTestUBT")(function(e){e===!0&&r("GHLDelay").setEnabled(!0)})}var a=t.prototype;return a.getID=function(){return this.id},a.getConfig=function(){return this.config},a.getPercentInViewport=function(){var e=r("getViewportDimensions")(),t=r("getElementPosition")(this.element);return this.$1(e,t)},a.$2=function(t,n,o,a){o===void 0&&(o=0),a===void 0&&(a=!1);var e={target_rect:n,root:{x:0,y:o,height:t.height-o,width:t.width}};if(n.height===0||n.width===0)return{rects:e,percentage:0,invisibleReason:"TARGET_SIZE_0"};var i=r("Style").get(this.element,"visibility")==="hidden",l=r("Style").get(this.element,"opacity")==="0";if(n.x<t.width&&n.x+n.width>0&&n.y<t.height&&n.y+n.height>o&&!i&&!l){var s=Math.max(n.x,0),u=Math.min(n.x+n.width,t.width),c=Math.max(n.y,o),d=Math.min(n.y+n.height,t.height);if(n.height*n.width===0)return{rects:e,percentage:100,invisibleReason:null};var m=100*(u-s)*(d-c)/(n.height*n.width),p=!1;return m>0&&(a||this.config.should_not_log_on_occlusion)&&(p=r("isImpressionTargetOccluded")(this.element,{x:s,y:c,width:u-s,height:d-c}),this.config.should_not_log_on_occlusion&&p)?{rects:e,percentage:0,invisibleReason:"IS_OCCLUDED"}:{rects:e,percentage:m,invisibleReason:m>0?null:"NOT_IN_VIEWPORT",isOccluded:p}}return{rects:e,percentage:0,invisibleReason:i?"TARGET_HIDDEN":l?"TARGET_TRANSPARENT":"NOT_IN_VIEWPORT"}},a.$3=function(t,n,r){return r===void 0&&(r=0),this.$2(t,n,r).percentage},a.$4=function(t,r,o,a){return o===void 0&&(o=0),a===void 0&&(a=!1),this.config.require_horizontally_onscreen&&n("cr:4095").isHorizontallyOffscreen(this.element,r,t)?{rects:{target_rect:r},percentage:0,invisibleReason:"NOT_IN_VIEWPORT"}:this.$2(t,r,o,a)},a.$1=function(t,n,r){return r===void 0&&(r=0),this.$4(t,n,r).percentage},a.$5=function(t,n,r){var e=this.$3(t,n,r);return e===0?o("PercentVisible").NO_VISIBLE:e<50?o("PercentVisible").VISIBLE_0_PCT:e<100?o("PercentVisible").VISIBLE_50_PCT:o("PercentVisible").VISIBLE_100_PCT},a.$6=function(t,n,r){r===void 0&&(r=0);var e=Math.max(n.y,r),a=Math.min(n.y+n.height,t.height),i=100*(a-e)/(t.height-r);return i<50?o("PercentVisible").VISIBLE_0_PCT:i<100?o("PercentVisible").VISIBLE_50_PCT:o("PercentVisible").VISIBLE_100_PCT},a.$7=function(t,n){var e=0,a=r("ge")("pagelet_bluebar");if(a&&a.offsetHeight&&(e=a.offsetHeight+a.offsetTop),this.config.should_log_viewport_duration){var i=this.$6(t,n,e);switch(i){case o("PercentVisible").VISIBLE_0_PCT:case o("PercentVisible").VISIBLE_50_PCT:case o("PercentVisible").VISIBLE_100_PCT:this.emit("viewport_viewability",{tracker:this,id:this.getID(),token:this.getToken(),percentVisible:i});break;default:break}}var l=this.$5(t,n,e);switch(l){case o("PercentVisible").VISIBLE_0_PCT:case o("PercentVisible").VISIBLE_50_PCT:case o("PercentVisible").VISIBLE_100_PCT:this.emit("viewability",{tracker:this,id:this.getID(),token:this.getToken(),percentVisible:l});break;default:this.emit("hidden",{id:this.getID(),token:this.getToken()});break}},a.$8=function(t,n){if(r("Style").get(this.element,"visibility")==="hidden"||r("Style").get(this.element,"opacity")==="0")return!1;var e=n.x,o=n.y,a=n.x+n.width,i=n.y+n.height;return this.topLeftInViewport=this.topLeftInViewport||e>=0&&e<=t.width&&o>=0&&o<=t.height,this.bottomRightInViewport=this.bottomRightInViewport||a>=0&&a<=t.width&&i>=0&&i<=t.height,this.topLeftInViewport&&this.bottomRightInViewport},a.$9=function(t,n){this.hasEmittedFullViewEvent||this.$8(t,n)&&(this.emit("full_view",{tracker:this,id:this.getID(),token:this.getToken(),fullViewType:1}),this.hasEmittedFullViewEvent=!0)},a.$10=function(t,o,a,i,l){l===void 0&&(l=!1);var e=t>0,s=a;e&&r("Visibility").isHidden()&&(e=!1,s="PAGE_VISIBILITY_HIDDEN"),e&&this.isHidden?(this.lastImpressedAt=Date.now(),this.lastEnterWithPercent=o,this.logViewabilityEventsForAudit(o,this.lastInvisibleReason,i.root!=null?{root:i.root,target_rect:i.target_rect}:{target_rect:i.target_rect},l),this.isHidden=!1,n("cr:1095627")&&n("cr:1095627").onItemEnterViewport(r("ViewabilityFramework").VIEWABLE_TRACKER_BLUE,this.element)):!e&&!this.isHidden&&(this.isHidden=!0,this.lastInvisibleReason=s,this.lastHiddenCause="none",n("cr:1095627")&&n("cr:1095627").onItemExitViewport(r("ViewabilityFramework").VIEWABLE_TRACKER_BLUE,this.element))},a.onVisible=function(t){var e=this,n=this.isVisible,a=r("getViewportDimensions")(),i=r("getElementPosition")(this.element),l=this.config.count_blue_bar_height?o("FBFeedImpressionTopMarginGetter").getTopMargin():0,s=this.$4(a,i,l,this.config.detect_occlusion||!1),u=s.percentage,d=s.invisibleReason,m=s.rects,p=s.isOccluded,_=u>this.config.pixel_in_percentage;this.config.log_viewability_events_for_infra_validation&&this.$10(_,u,d,m,p);var f=[],g=[];if((this.config.skip_imp_if_no_images||this.config.check_images_before_log)&&(f=Array.from(this.element.querySelectorAll("img")),g=Array.from(this.element.getElementsByClassName("_7cqq")),(c||(c=o("ODS"))).bumpEntityKey(2966,"feed_ads","ViewableImpressionTracker.delayLogImpression.isFeedLoadedCheck."+(f.length===0)+"."+(g.length===0))),this.config.skip_imp_if_no_images&&f.length===0){this.handleLogNonViewableOnInvisible(n),this.isVisible=!1;return}if(this.emit("visible",{tracker:this,id:this.getID(),token:this.getToken(),percentInViewport:u}),this.config.should_log_viewability_duration&&this.$7(a,i),this.$9(a,i),!_){this.$11(),this.handleLogNonViewableOnInvisible(n),this.isVisible=!1;return}this.isLogged()?this.$12():this.$13();var h=this.config.fam_delivery_integrity_enable_user_hide_ads_check_and_is_feed?o("FeedAdXoutEventTracker").checkIfHidden(this.element):!1;this.isVisible=!(r("AdImpressionLoggingConfig").blockInvisible&&r("Visibility").isHidden())&&!h;var y=this.isVisible&&!n;if(this.isVisible||this.handleLogNonViewableOnInvisible(n),(this.config.client_no_dedup?y:this.isVisible)&&!this.waitForLogged&&!this.waitForDelayLogged&&!this.isLogged()){var C=function(){if(e.waitForLogged=!1,!(r("AdImpressionLoggingConfig").blockInvisible&&r("Visibility").isHidden())){var t=e.getPercentInViewport(),n=t>e.config.pixel_in_percentage;if(!n){e.$14();return}if(e.config.check_images_before_log&&f.length===0&&(c||(c=o("ODS"))).bumpEntityKey(2966,"feed_ads","ViewableImpressionTracker.log_without_load."+e.config.trackable_identifier),r("GHLDelay").getEnabled()&&e.config.can_delay_log_impression===!0){e.waitForDelayLogged=!0;var a=r("AdImpressionLoggingConfig").maxHiddenCheckDelay,i=a-e.config.duration_in_ms;i<0&&(i=0),e.delayedLoggingTimeout=window.setTimeout(e.delayLogImpression,i)}else e.logImpression(1,!1,{}),e.$12()}};this.waitForLogged=!0,this.viewableTimeout=window.setTimeout(C,this.config.duration_in_ms)}},a.handleLogNonViewableOnInvisible=function(t){this.config.log_initial_nonviewable&&!this.isLogged()&&!this.isNonViewableLogged?this.logNonViewableImpression():!this.config.log_initial_nonviewable&&!this.isLogged()&&t&&this.logNonViewableImpression()},a.onHidden=function(t){var e=this;this.lastHiddenCause=t,this.isHidden||(this.isHidden=!0,this.lastInvisibleReason="NOT_IN_VIEWPORT",n("cr:1095627")&&n("cr:1095627").onItemExitViewport(r("ViewabilityFramework").VIEWABLE_TRACKER_BLUE,this.element)),this.emit("hidden",{id:this.getID(),token:this.getToken()});var o=this.isVisible;this.handleLogNonViewableOnInvisible(o),this.isVisible=!1,this.waitForLogged&&(this.waitForLogged=!1,window.clearTimeout(this.viewableTimeout)),this.config.client_no_dedup&&this.config.subsequent_gap_in_ms===0&&this.config.client_track_subsequent_impression?this.reset():this.isLogged()&&!this.waitForSubsequent&&this.config.subsequent_gap_in_ms>=0&&this.config.client_track_subsequent_impression&&(this.waitForSubsequent=!0,this.clearSubsequentTimeout=window.setTimeout(function(){e.waitForSubsequent=!1,e.reset(),e.isVisible&&e.onVisible()},this.config.subsequent_gap_in_ms)),this.$14()},a.onRemoved=function(){this.isVisible=!1},a.getToken=function(){return r("DataAttributeUtils").getDataAttribute(this.element,"data-xt")},a.logViewabilityEventsForAudit=function(t,a,i,l){var e=this,s=this.getToken(),u=Math.floor(Date.now()/1e3),c=this.$15(),m=r("FBImpressionValidationUtils").getFBFeedLocation(this.element),p=n("ScriptPath").getTopViewEndpoint(),_=d?d():null,f=r("getCentralImpressionTimeAfterRefresh")(),g=o("WebSession").getId(),h=r("uuidv4")(),y=this.config.is_rhc?r("ViewabilityFramework").VIEWABLE_TRACKER_BLUE_RHC:r("ViewabilityFramework").VIEWABLE_TRACKER_BLUE;r("CometMetricsChannel2ViewabilityFalcoEvent").logImmediately(function(){return{framework:y,event_trace_id:h,xt:s,cts:String(u),csp:String(c),me:p,vp:String(t),fbfeed_location:String(m),scroll_speed:String(_),time_from_load:String(f),sk:g,pre_rs:a,sub_imp:e.isSubsequentImp,last_hidden_cause:e.lastHiddenCause,rects:i,behind_popout:l}}),this.isSubsequentImp=!0},a.logImpression=function(t,a,i){if(!this.isLogged()){var e=this.getToken(),l=Math.floor(Date.now()/1e3),s=this.$15(),u=Date.now()+"_"+(r("randomInt")(0,4294967295)+1),d={xt:e,isv:t,cts:l,csp:s,hba:a,etid:u,sender:"ViewableImpressionTracker"};if(this.config.should_log_endpoint_info&&(d.me=n("ScriptPath").getTopViewEndpoint()),this.config.should_batch||this.config.vital_mode_for_ss||this.config.signal_mode_for_ss){d.transmission_channel="banzai";var m=this.config.vital_mode_for_ss?babelHelpers.extends({},r("Banzai").VITAL):{};m.signal=this.config.signal_mode_for_ss,d.event_trace_id=r("uuidv4")(),this.logWithBanzai(d,m),this.logWithFalco(d)}else d.transmission_channel="iframe",this.logWithIFrame(Object.assign(d,i));if(r("gkx")("21109"))try{var p=JSON.parse(r("DataAttributeUtils").getDataFt(this.element)),_=p.page_id,f=p.top_level_post_id,g=p.fbfeed_location;_&&f&&n("cr:4394").onEventLogged("page_post_impression",f,g)}catch(e){(c||(c=o("ODS"))).bumpEntityKey(2966,"impression_logging_debug","viewable_session_validation_exception."+r("getErrorSafe")(e).message)}}},a.logNonViewableImpression=function(){if(this.config.nonviewableEnabled){var e=this.getToken();r("Banzai").post("xtrackable:nonviewable",{xt:e})}this.isNonViewableLogged=!0},a.isLogged=function(){return this.iframeLogged||this.banzaiLogged||this.falcoLogged},a.reset=function(){this.iframeLogged&&(this.iframeLogged=!1),this.iframe&&(n("cr:6114").remove(this.iframe),this.iframe=null),this.banzaiLogged&&(this.banzaiLogged=!1),this.falcoLogged&&(this.falcoLogged=!1),this.isNonViewableLogged=!1,this.isVisible=!1,this.waitForLogged=!1,this.waitForDelayLogged=!1,this.waitForSubsequent=!1},a.logWithFalco=function(t){var e=this;this.falcoLogged=!0,r("MsiteViewableImpressionFalcoEvent").logImmediately(function(){return t}),this.config.log_viewability_events_for_infra_validation&&r("CometMetricsChannel2ViewabilityFalcoEvent").logImmediately(function(){return{framework:r("ViewabilityFramework").VIEWABLE_TRACKER_BLUE_AFTER_DEDUP,xt:String(t.xt),isv:String(t.isv),cts:String(t.cts),csp:String(t.csp),hba:t.hba,etid:String(t.etid),sender:t.sender,event_count:String(t.eventCount),transmission_channel:t.transmission_channel,event_trace_id:t.event_trace_id,me:t.me,fbfeed_location:String(r("FBImpressionValidationUtils").getFBFeedLocation(e.element)),scroll_speed:d?String(d()):null,time_from_load:String(r("getCentralImpressionTimeAfterRefresh")()),sk:o("WebSession").getId()}})},a.logWithBanzai=function(t,o){this.banzaiLogged=!0,n("cr:7058").maybeLogClientViewEvent(t),r("Banzai").post("xtrackable:clientview_batch",t,o)},a.logWithIFrame=function(o){this.iframeLogged=!0,this.config.is_instream_story?r("NonBlockingIFrame").loadIFrame(new(e||(e=r("URI")))(this.config.impressionURL).addQueryData(o).toString()):(this.iframe=n("cr:6114").create("iframe",{src:new(e||(e=r("URI")))(this.config.impressionURL).addQueryData(o).toString(),width:0,height:0,frameborder:0,scrolling:"no",className:"fbEmuTracking"}),this.iframe.setAttribute("aria-hidden","true"),n("cr:6114").appendContent(this.element,this.iframe))},a.$15=function(){var e=r("DataAttributeUtils").getDataAttribute(this.element,"data-dedupekey");if(e===null)return null;var t=this.$16();if(t===null||t.length===0)return null;for(var n=t.length;--n>=0;){var o=r("DataAttributeUtils").getDataAttribute(t[n],"data-dedupekey");if(o!==null&&e===o)break}return n+1},a.$16=function(){var e=r("ge")("contentArea");if(e){var t="._5jmm",o=n("cr:6114").scry(e,t);return o.filter(function(e){return r("DataAttributeUtils").getDataAttribute(e,"data-dedupekey")})}else{var a=null;return r("gkx")("21110")?a=r("ge")("m_news_feed_stream"):a=r("ge")("m_newsfeed_stream"),a===null?null:a.getElementsByTagName("article")}},a.$17=function(){return 0},a.$11=function(){this.$17()&&(r("Style").set(this.element,"background-color","#abab9a"),r("Style").set(this.element,"outline","3px solid #abab9a"))},a.$13=function(){this.$17()&&(r("Style").set(this.element,"background-color","#e4f70a"),r("Style").set(this.element,"outline","3px solid #e4f70a"))},a.$14=function(){this.$17()&&(r("Style").set(this.element,"background-color",null),r("Style").set(this.element,"outline",null))},a.$12=function(){this.$17()&&(r("Style").set(this.element,"background-color","#047515"),r("Style").set(this.element,"outline","3px solid #047515"))},t})();r("mixInEventEmitter")(m,{visible:!0,hidden:!0,full_view:!0,viewability:!0,viewport_viewability:!0,viewability_debug:!0});var p=m;l.default=p}),98);
__d("VisibilityTracking",["Banzai","DataAttributeUtils","ErrorUtils","ScriptPath","SubscriptionsHandler","Visibility","collectDataAttributes","cr:4867","cr:7058","getElementPosition","gkx","pageID","throttle"],(function(t,n,r,o,a,i,l){var e,s="visibility_tracking",u="[data-vistracking]",c=500,d=50,m=50,p=50,_=50,f=0,g=(function(){function t(t){var o=this,a;t=t||{},this.visibleElementInfo={},this.doNotForceExitOnUpdateVisible=!1,this.getDataFromConfig(t),r("Visibility").addListener(r("Visibility").VISIBLE,(e||(e=r("ErrorUtils"))).guard(function(){return o.fireEvent("browser")},"VisibilityTracking:visible",this)),r("Visibility").addListener(r("Visibility").HIDDEN,e.guard(function(){return o.clearAllVisibleElements("browser")},"VisibilityTracking:hidden",this)),r("ScriptPath").subscribe(e.guard(function(){return o.updateVisibleElements()},"VisibilityTracking:scriptPath",this)),r("Banzai").subscribe(r("Banzai").SHUTDOWN,e.guard(function(){return o.onUnload()},"VisibilityTracking:banzaiShutdown",this)),this.fireEventCallback=r("throttle").acrossTransitions(e.guard(function(e){return o.fireEvent(e)},"VisibilityTracking:fireEventCallback",this),this.timeout,this),this.listeners=new(r("SubscriptionsHandler")),(a=this.listeners).addSubscriptions.apply(a,n("cr:4867").getEventListeners(function(){return o.fireEventCallback()},t)),this.extraInit&&(e||(e=r("ErrorUtils"))).applyWithGuard(this.extraInit.bind(this))}var o=t.prototype;return o.getDataFromConfig=function(t){this.config=t,this.root=t.root||document.documentElement,this.selector=t.selector||u,this.visibleEventCallBack=t.visibleEventCallBack||function(){},this.timeout=t.timeout!==void 0?t.timeout:c,this.minOffsetVisibleFromBottom=t.minOffsetVisibleFromBottom!==void 0?t.minOffsetVisibleFromBottom:d,this.minOffsetVisibleFromTop=t.minOffsetVisibleFromTop!==void 0?t.minOffsetVisibleFromTop:m,this.minOffsetVisibleFromLeft=t.minOffsetVisibleFromLeft!==void 0?t.minOffsetVisibleFromLeft:p,this.minOffsetVisibleFromRight=t.minOffsetVisibleFromRight!==void 0?t.minOffsetVisibleFromRight:_,this.handleAllHiddenEvents=t.handleAllHiddenEvents!==void 0?t.handleAllHiddenEvents:!1,this.handleAllVisibleEvents=t.handleAllVisibleEvents!==void 0?t.handleAllVisibleEvents:!1,this.cacheTrackedElements=t.cacheTrackedElements!==void 0?t.cacheTrackedElements:!1,this.addCauseToAllHiddenEvents=t.addCauseToAllHiddenEvents!=null?t.addCauseToAllHiddenEvents:!1,this.doNotForceExitOnUpdateVisible=t.doNotForceExitOnUpdateVisible!=null?t.doNotForceExitOnUpdateVisible:!1},o.getAllTrackedElements=function(){if(!this.allTrackedElements){this.allTrackedElements={};var e=[];this.config.is_xtrackable?e=r("DataAttributeUtils").getXTrackableElements():this.root&&(e=this.root.querySelectorAll(this.selector));for(var t=0;t<e.length;t++){var n=this.getElementID(e[t]);this.allTrackedElements[n.toString()]=e[t]}}return this.allTrackedElements},o.refreshAllTrackedElements=function(){return delete this.allTrackedElements,this.getAllTrackedElements()},o.getDataToLog=function(t){var e=Object.assign(r("collectDataAttributes")(t,["gt"]).gt,{client_time:Date.now()/1e3,time_spent_id:r("pageID"),script_path:r("ScriptPath").getScriptPath()});return e},o.getElementID=function(t){var e=t.$1;return e||(t.$1=++f,f)},o.sendDataToLog=function(t){n("cr:7058").maybeLogVisiblityEvent(t),r("Banzai").post(s,t)},o.isInstreamAdStoryElement=function(t){return!1},o.fireEvent=function(t){t===void 0&&(t="default");var e=this.cacheTrackedElements?this.allTrackedElements:this.refreshAllTrackedElements();for(var r in e){var o=e[r],a=n("cr:4867").getViewportInfo(),i=this.isVisible(o,a);!i&&(r in this.visibleElementInfo||this.handleAllHiddenEvents)?this.handleEvent(o,{name:"hidden",cause:t}):i&&(!(r in this.visibleElementInfo)||this.handleAllVisibleEvents)&&this.handleEvent(o,{name:"visible",cause:t})}this.clearUntrackedVisibleElements()},o.isVisible=function(t,o){if(t==null||r("gkx")("20872")&&n("cr:4867").isSnippetFlyoutVisible())return!1;var e=r("getElementPosition")(t);return!!(e.x||e.y||e.width||e.height)&&e.y+e.height>=this.minOffsetVisibleFromTop&&e.y<=o.height-this.minOffsetVisibleFromBottom&&e.x+e.width>=this.minOffsetVisibleFromLeft&&e.x<=o.width-this.minOffsetVisibleFromRight},o.handleEvent=function(t,n){var e=this.getElementID(t).toString(),o=this.getDataToLog(t),a;if(n.name==="visible"){var i=Math.floor(Date.now()/1e3);a=r("pageID").concat(":",i.toString(),":",this.getElementID(t).toString()),this.visibleElementInfo[e]={visibility_id:a,elem:t}}else if(n.name==="hidden"&&(e in this.visibleElementInfo&&(a=this.visibleElementInfo[e].visibility_id,delete this.visibleElementInfo[e]),n.cause==="browser"||this.doNotForceExitOnUpdateVisible&&n.cause==="updateVisible"))return;this.sendDataToLog(Object.assign(o,{event:n.name,visibility_id:a}))},o.clearUntrackedVisibleElements=function(){var e=this.getAllTrackedElements();for(var t in this.visibleElementInfo)if(!(t in e)){var n=this.visibleElementInfo[t];n.elem&&this.handleEvent(n.elem,{name:"hidden",cause:"removed"})}},o.clearAllVisibleElements=function(t){t===void 0&&(t="default");var e=this.getAllTrackedElements();for(var n in e)n in this.visibleElementInfo&&this.handleEvent(e[n],{name:"hidden",cause:t});this.clearUntrackedVisibleElements()},o.updateVisibleElements=function(){this.addCauseToAllHiddenEvents?this.clearAllVisibleElements("updateVisible"):this.clearAllVisibleElements(),this.fireEvent()},o.refreshAndFireEvent=function(t){this.refreshAllTrackedElements(),this.fireEventCallback(t)},o.onUnload=function(){this.addCauseToAllHiddenEvents?this.clearAllVisibleElements("unload"):this.clearAllVisibleElements(),this.listeners&&(this.listeners.release(),this.listeners=null),this.extraCleanup&&(e||(e=r("ErrorUtils"))).applyWithGuard(this.extraCleanup.bind(this))},t.init=function(n){return new t(n)},t})();l.default=g}),98);
__d("ViewableImpressionEventHandler",["DataAttributeUtils","FullViewLogger","ViewabilityDurationSegmentLogger","ViewableImpressionDurationLogger","ViewableImpressionHeatmapLogger","ViewableImpressionTracker","VisibilityTracking","pageID"],(function(t,n,r,o,a,i,l){"use strict";var e=1,s=(function(t){function n(){return t.apply(this,arguments)||this}babelHelpers.inheritsLoose(n,t);var o=n.prototype;return o.extraInit=function(){this.$ViewableImpressionEventHandler$p_1=new Map},o.getDataFromConfig=function(n){t.prototype.getDataFromConfig.call(this,n),this.$ViewableImpressionEventHandler$p_2=n.$ViewableImpressionEventHandler4,this.$ViewableImpressionEventHandler$p_3=n.heatmapLoggingDurationMS,n.impressionURL=n.impressionURL!==void 0?n.impressionURL:"/xti.php",n.nonviewableEnabled=n.nonviewableEnabled!==void 0?n.nonviewableEnabled:!1},o.getImpressionTracking=function(t){var e=this.getElementID(t),n=this.$ViewableImpressionEventHandler$p_1.get(e);if(!n){var o=babelHelpers.extends({},this.getConfigFromElement(t),this.config);n=new(r("ViewableImpressionTracker"))(e,t,o),this.$ViewableImpressionEventHandler$p_1.set(e,n),o.log_impression_duration&&r("ViewableImpressionDurationLogger").logFromViewableImpressionTracker(n),this.$ViewableImpressionEventHandler$p_2&&r("ViewableImpressionHeatmapLogger").logFromViewableImpressionTracker(n,this.$ViewableImpressionEventHandler$p_3),o.should_log_full_views&&r("FullViewLogger").logFromViewableImpressionTracker(n),o.should_log_viewability_duration&&r("ViewabilityDurationSegmentLogger").logFromViewableImpressionTracker(n)}return n},o.handleEvent=function(t,n){var e=this.getImpressionTracking(t);if(e){if(n.name==="visible"){var o=Math.floor(Date.now()/1e3),a=r("pageID").concat(":",o.toString(),":",this.getElementID(t).toString());e.onVisible(n),this.visibleElementInfo[e.getID()]||(this.visibleElementInfo[e.getID()]={visibility_id:a,elem:t})}else if(n.name==="hidden"){var i=e.getConfig();n.cause==="default"||i.log_visibility_hidden_when_browser_inactive&&n.cause==="browser"||i.addCauseToAllHiddenEvents&&(n.cause==="updateVisible"||n.cause==="unload")?(e.onHidden(n.cause),delete this.visibleElementInfo[e.getID()]):n.cause==="removed"&&(e.onRemoved(),delete this.visibleElementInfo[e.getID()],this.$ViewableImpressionEventHandler$p_1.delete(e.getID()))}}},o.isInstreamAdStoryElement=function(t){var e=babelHelpers.extends({},this.getConfigFromElement(t),this.config);return!!e.is_instream_story},o.getConfigFromElement=function(t){return JSON.parse(r("DataAttributeUtils").getDataAttribute(t,"data-xt-vimp"))},o.getElementID=function(n){return n.getAttribute("id")||n.setAttribute("id","xt_uniq_"+e++),n.getAttribute("id")},n})(r("VisibilityTracking"));l.default=s}),98);
__d("ViewableImpressionTracking",["Arbiter","DesktopHscrollUnitEventConstants","ErrorUtils","LitestandMessages","Run","ViewableImpressionConfig","ViewableImpressionEventHandler"],(function(t,n,r,o,a,i,l){var e;function s(){r("ViewableImpressionEventHandler").instance===void 0&&(r("ViewableImpressionEventHandler").instance=new(r("ViewableImpressionEventHandler"))(r("ViewableImpressionConfig")),r("ViewableImpressionEventHandler").instance.listeners!=null&&r("ViewableImpressionEventHandler").instance.listeners.addSubscriptions(r("Arbiter").subscribe([r("LitestandMessages").STORIES_INSERTED,"MPPInsights/ChartView","PhotoSnowliftAds/displayUnits","WebMessengerAdsControl/adjustAds",o("DesktopHscrollUnitEventConstants").HSCROLL_ITEM_INSERTED_EVENT,"WebVideoChannelAds/AdsLoaded","Stories/cardChanged"],(e||(e=r("ErrorUtils"))).guard(function(e){r("ViewableImpressionEventHandler").instance.refreshAndFireEvent(e)},"ViewableImpressionTracking")))),o("Run").onLoad(function(){r("ViewableImpressionEventHandler").instance.refreshAndFireEvent()})}l.init=s}),98);
__d("ViewableImpressionUtils",["csx","CSS"],(function(t,n,r,o,a,i,l){var e={isHorizontallyOffscreen:function(t,r,o){var e=Math.max(r.x,0),a=Math.min(r.x+r.width,o.width);return a-e<r.width||n("CSS").matchesSelector(t,".desktop_hscroll_offscreen")}};a.exports=e}),null);
__d("ViewableSessionValidationWebResultTypedLogger",["Banzai","GeneratedLoggerUtils"],(function(t,n,r,o,a,i){"use strict";var e=(function(){function e(){this.$1={}}var t=e.prototype;return t.log=function(t){n("GeneratedLoggerUtils").log("logger:ViewableSessionValidationWebResultLoggerConfig",this.$1,n("Banzai").BASIC,t)},t.logVital=function(t){n("GeneratedLoggerUtils").log("logger:ViewableSessionValidationWebResultLoggerConfig",this.$1,n("Banzai").VITAL,t)},t.logImmediately=function(t){n("GeneratedLoggerUtils").log("logger:ViewableSessionValidationWebResultLoggerConfig",this.$1,{signal:!0},t)},t.clear=function(){return this.$1={},this},t.getData=function(){return babelHelpers.extends({},this.$1)},t.updateData=function(t){return this.$1=babelHelpers.extends({},this.$1,t),this},t.setExtras=function(t){return this.$1.extras=t,this},t.setFailureReason=function(t){return this.$1.failure_reason=t,this},t.setFbFeedLocation=function(t){return this.$1.fb_feed_location=t,this},t.setPrimaryImpressionChannel=function(t){return this.$1.primary_impression_channel=t,this},t.setScrollSpeed=function(t){return this.$1.scroll_speed=t,this},t.setSecondaryImpressionChannel=function(t){return this.$1.secondary_impression_channel=t,this},t.setSessionEndTime=function(t){return this.$1.session_end_time=t,this},t.setSessionKey=function(t){return this.$1.session_key=t,this},t.setSessionStartTime=function(t){return this.$1.session_start_time=t,this},t.setTimeFromLoad=function(t){return this.$1.time_from_load=t,this},t.setVerificationTime=function(t){return this.$1.verification_time=t,this},t.setVerifyResult=function(t){return this.$1.verify_result=t,this},e})(),l={extras:!0,failure_reason:!0,fb_feed_location:!0,primary_impression_channel:!0,scroll_speed:!0,secondary_impression_channel:!0,session_end_time:!0,session_key:!0,session_start_time:!0,time_from_load:!0,verification_time:!0,verify_result:!0};i.default=e}),66);
__d("getCentralImpressionScrollSpeed",["cr:5662"],(function(t,n,r,o,a,i){"use strict";var e=0,l=Date.now(),s=null,u=null;function c(e){n("cr:5662").listen(window,"scroll",function(){u&&clearTimeout(u),u=setTimeout(function(){return e()},100)},n("cr:5662").Priority.NORMAL,{passive:!0})}function d(){var t=window.scrollY,n=Date.now();if(s!=null&&n!==l){var r=t-s;e=r/(n-l)*1e3}s=t,l=n}c(function(){e=0,s=null}),n("cr:5662").listen(window,"scroll",function(){return d()},n("cr:5662").Priority.NORMAL,{passive:!0}),a.exports=function(){return e}}),null);
__d("ViewableSessionStore",["ODS","ViewableSessionValidationWebResultTypedLogger","ge","getCentralImpressionScrollSpeed","getCentralImpressionTimeAfterRefresh","getErrorSafe","getViewportDimensions","setTimeout"],(function(t,n,r,o,a,i,l){var e,s="viewable_session_validation",u=[],c={};function d(t,n,a){try{var i=_(t);c[i]||(c[i]={context:t,isValid:!1}),m(i,n,a),c[i].isValid?p(i)||(c[i].isValid=!1,c[i].exitTime=Date.now()):p(i)&&(c[i].enterTime=Date.now(),c[i].exitTime=null,c[i].isValid=!0)}catch(t){var l=r("getErrorSafe")(t);(e||(e=o("ODS"))).bumpEntityKey(2966,s,"error.onViewUpdate."+l.message)}}function m(e,t,n){var r,o,a,i=n.getBoundingClientRect(),l=i.bottom,s=i.top,u=i.left,d=i.right,m,p=(r=(o=c[e])==null||(o=o.boundaryDimensions)==null?void 0:o.ref)!=null?r:0;switch(t){case"top":m={top:l,left:u,right:d,ref:++p};break;case"bottom":m={bottom:s,left:u,right:d,ref:--p};break}var _=(a=c[e])==null?void 0:a.boundaryDimensions;c[e]=babelHelpers.extends({},c[e],{boundaryDimensions:_!=null?babelHelpers.extends({},_,m):m})}function p(e){var t,n=(t=c[e])==null?void 0:t.boundaryDimensions;if(n==null)return!1;var o=r("ge")("pagelet_bluebar"),a=r("getViewportDimensions")(),i=a.width,l=a.height,s=document.elementFromPoint(0,0),d=o!=null&&s!=null&&o.contains(s)?s.getBoundingClientRect().bottom:0,m=u.reduce(function(e,t){return Math.max(t.getBoundingClientRect().bottom,e)},d);return n.top!=null&&n.bottom!=null&&n.top<n.bottom&&n.top<l&&n.bottom>m&&n.left<n.right&&n.left<i&&n.right>0}function _(e){return e.postId}function f(e){var t=c[e];if(t==null)return!1;var n=t.exitTime;return t.isValid===!0||n!=null&&Date.now()-n<1e3||p(e)}function g(t,n,a,i){i===void 0&&(i=1);try{var l,u=r("getCentralImpressionScrollSpeed")(),d=r("getCentralImpressionTimeAfterRefresh")(),m="event_logged."+t+"."+a.toString()+".",p=new(r("ViewableSessionValidationWebResultTypedLogger"))().setVerificationTime(Date.now()).setExtras(JSON.stringify({pageId:c[n].context.pageId,boundaryDimension:JSON.stringify((l=c[n].boundaryDimensions)!=null?l:"null"),viewportDimension:JSON.stringify(r("getViewportDimensions")())})).setFbFeedLocation(a).setSessionStartTime(c[n].enterTime).setSessionEndTime(c[n].exitTime).setPrimaryImpressionChannel("viewable_impression_tracker").setSecondaryImpressionChannel("two_div_boundary").setSessionKey(n).setScrollSpeed(u).setTimeFromLoad(d);if(f(n))p.setVerifyResult(1),(e||(e=o("ODS"))).bumpEntityKey(2966,s,m+"pass");else{if(i>0){r("setTimeout")(function(){g(t,n,a,i-1)},500);return}p.setVerifyResult(0).setFailureReason("over-logging"),(e||(e=o("ODS"))).bumpEntityKey(2966,s,m+"overlogging")}p.log()}catch(t){var _=r("getErrorSafe")(t);(e||(e=o("ODS"))).bumpEntityKey(2966,s,"error.onEventLogged."+_.message)}}function h(e){u.push(e)}l.ViewableSessionStore=c,l.onViewUpdate=d,l.onEventLogged=g,l.setupTopRef=h}),98);
__d("VisibilityTrackingHelper",["Arbiter","DesktopHscrollUnitEventConstants","Event","getViewportDimensions"],(function(t,n,r,o,a,i,l){function e(e,t){var n=[r("Event").listen(document,"DOMContentLoaded",e),r("Event").listen(window,"scroll",e),r("Event").listen(window,"resize",e),r("Arbiter").subscribe(o("DesktopHscrollUnitEventConstants").HSCROLL_ITEM_SHOWN_EVENT,e)];return t.considerSubtreeModification===!0&&n.push(r("Event").listen(document,"DOMSubtreeModified",e)),n}function s(){return r("getViewportDimensions")()}function u(){return!1}l.getEventListeners=e,l.getViewportInfo=s,l.isSnippetFlyoutVisible=u}),98);
__d("ghlInternalBumpODSKey",["ODS"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,n){return(e||(e=o("ODS"))).bumpEntityKey(2966,"feed_ads",t+"."+n)}l.default=s}),98);
__d("ghlTestUBTFacebook",["ConstUriUtils","FBLogger","GHLBox","Promise","cr:1088657","ghlInternalBumpODSKey","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";var e,s=function(t){var e=o("ConstUriUtils").getUri(t);if(e==null)throw r("FBLogger")("ad_blocker_defense_ghost_owl").mustfixThrow("URI cannot be null in ghlTestUBTFacebook.");return e},u=function(r){return new(e||(e=n("Promise")))(function(e){var t=window.atob,n=document.body;if(t==null||n==null){e(!1);return}var o=document.createElement("div");o.className=r.map(t).join(" "),n.appendChild(o);var a=p(o);if(a&&a.MozBinding&&a.MozBinding.startsWith("url")){setTimeout(function(){return e(o.clientWidth===0)},5e3);return}e((a==null?void 0:a.display)==="none")})},c=function(){return new(e||(e=n("Promise")))(function(e){var t=document.body;if(t==null){e(!1);return}var n=document.createElement("img");n.setAttribute("alt",""),t.appendChild(n),n.onload=function(){var t=p(n);e((t==null?void 0:t.display)==="none"),n.parentNode&&n.parentNode.removeChild(n)},n.onerror=function(){e(!0),n.parentNode&&n.parentNode.removeChild(n)},n.src=s("https://scontent.xx.fbcdn.net/hads-ak-prn2/1487645_6012475414660_1439393861_n.png").toString()})},d=null,m=function(a){d==null&&(h("init"),d=new(e||(e=n("Promise")))(function(t){return r("promiseDone")((e||(e=n("Promise"))).all([u(_),c(),u([f(g)]),o("GHLBox").r()]),function(e){var n=e[0],r=e[1],a=e[2],i=e[3];h("done",n,r,a);var l=n||r||a;l?o("GHLBox").s(Date.now()):o("GHLBox").i(),t([l,i])})})),r("promiseDone")(d,function(e){return a(e[0],e[1])}),n("cr:1088657")&&n("cr:1088657").i()},p=function(t){return window.getComputedStyle(t)},_=["QWRCb3g=","QWQ=","YWR2ZXJ0","cG9zdC1hZHM="],f=function(t){return t[Math.floor(Math.random()*t.length)]},g=["UmVjdGFuZ2xlQWQ=","YWR2ZXJ0aXNpbmdfd2lkZ2V0","ZG93bmxvYWRfbGlua19zcG9uc29yZWQ=","c3BvbnNvclBvc3Q=","d2lkZ2V0U3BvbnNvcnM=","b2ItaG92ZXI=","ZGZwX3VuaXQ="],h=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r("ghlInternalBumpODSKey")("ghlTestUBT",String(t.join(".")))},y=m;l.default=y}),98);